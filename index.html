<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DigiPlus - Ø®Ø±ÛŒØ¯ Ø§Ù…Ù†</title>
  <style>
    body{font-family:'Segoe UI',Tahoma,Arial,sans-serif;background:linear-gradient(135deg,#667eea,#764ba2);margin:0;padding:20px;color:#222}
    .container{max-width:1200px;margin:auto}
    .header{background:#fff;padding:12px 20px;border-radius:10px;display:flex;justify-content:space-between;align-items:center}
    .logo{font-weight:800;color:#2b6cb0;font-size:1.4rem;display:flex;align-items:flex-start;gap:8px}
    .logo-icon{background:#ff8c42;color:#fff;width:24px;height:24px;border-radius:6px;display:flex;align-items:center;justify-content:center;font-size:0.9rem;font-weight:900;margin-top:2px;transition:all 0.25s ease;cursor:pointer}
    .logo-icon:hover{background:#e67632;transform:translateY(-3px);box-shadow:0 6px 20px rgba(230,118,50,0.3)}
    .logo-text{transition:all 0.25s ease;cursor:pointer}
    .logo-text:hover{transform:translateY(-2px);text-shadow:0 2px 8px rgba(43,108,176,0.3)}
    .logo-text{font-family:'Arial',sans-serif;font-weight:600}
    .slogan{font-family:'Tahoma',sans-serif;font-size:0.9rem;color:#666;font-weight:400}
    .user-info{display:flex;gap:10px;align-items:center}
    .balance{background:#27ae60;color:#fff;padding:6px 10px;border-radius:8px;font-weight:700}
    .cart-icon, .orders-icon{cursor:pointer;position:relative;background:#667eea;color:#fff;padding:6px 10px;border-radius:8px}
    .cart-badge{position:absolute;top:-6px;left:-6px;background:#e74c3c;color:#fff;padding:2px 6px;border-radius:8px;font-size:0.8rem;display:none}
    .nav-tabs{margin:20px 0;display:flex;gap:8px;flex-wrap:wrap}
    .nav-tab{background:#fff;color:#333;padding:8px 12px;border-radius:8px;cursor:pointer;font-weight:700}
    .nav-tab.active{background:#667eea;color:#fff}
    .panel-dropdown{position:relative}
    .dropdown-menu{position:absolute;right:0;top:100%;background:#fff;padding:8px;border-radius:8px;box-shadow:0 4px 20px rgba(0,0,0,0.2);display:none;z-index:10}
    .dropdown-menu.show{display:block}
    .dropdown-item{padding:8px;border-radius:6px;cursor:pointer}
    .dropdown-item:hover{background:#f1f5f9}
    .content-card{background:#fff;border-radius:10px;padding:16px;margin-bottom:14px}
    .products-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:14px}
    .product-card{background:#f8f9ff;padding:16px;border-radius:12px;display:flex;flex-direction:column;min-height:320px;transition:all 0.25s ease;border:1px solid rgba(102,126,234,0.1)}
    .product-card:hover{background:#e8f4f8;transform:translateY(-6px);box-shadow:0 10px 30px rgba(102,126,234,0.15);border-color:rgba(102,126,234,0.2)}
    .product-image{font-size:56px;text-align:center;margin-bottom:14px;padding:10px}
    .product-title{font-weight:700;margin-bottom:12px;color:#333;line-height:1.4;font-size:0.95rem}
    .product-price{font-size:1.2rem;font-weight:800;color:#27ae60;margin-bottom:12px}
    .rating-section{margin-bottom:14px}
    .stars{font-size:14px;margin-bottom:6px;display:flex;gap:2px;align-items:center}
    .star{width:16px;height:16px;position:relative;display:inline-block}
    .star svg{width:100%;height:100%;fill:#ddd;stroke:#ccc;stroke-width:1}
    .star.filled svg{fill:#ffc107;stroke:#ffb300}
    .star.half-filled svg{fill:url(#halfGradient);stroke:#ffb300}
    .rating-text{font-size:0.85rem;color:#666;margin-top:2px}
    .seller-info{margin-bottom:16px;flex:1;padding:8px 0}
    .trust-badge{background:#27ae60;color:#fff;padding:4px 8px;margin-top:6px;margin-bottom:6px;display:inline-block;border-radius:8px;font-size:0.8rem;font-weight:700}
    .trust-badge.verified{background:#27ae60}
    .trust-badge.unverified{background:#e67e22}
    .btn{padding:8px 12px;border:none;border-radius:6px;cursor:pointer;font-weight:700;margin:4px}
    .btn-primary{background:#667eea;color:#fff}
    .btn-success{background:#27ae60;color:#fff}
    .btn-warning{background:#e67e22;color:#fff}
    .btn-secondary{background:#6c757d;color:#fff}
    .modal{position:fixed;inset:0;background:rgba(0,0,0,0.5);display:none;align-items:center;justify-content:center;z-index:20}
    .modal.show{display:flex}
    .modal-box{background:#fff;padding:24px;border-radius:16px;max-width:520px;width:95%;position:relative;max-height:85vh;overflow-y:auto}
    .product-details{display:grid;grid-template-columns:auto;gap:0;max-width:100%}
    .product-detail-image{font-size:70px;text-align:center;margin-bottom:16px;padding:16px;background:#f8f9ff;border-radius:12px}
    .product-info{padding:0}
    .product-specs{background:#f8f9ff;padding:14px;border-radius:8px;margin:14px 0}
    .spec-item{margin-bottom:6px;font-size:0.9rem}
    .spec-label{font-weight:600;color:#555;display:inline-block;min-width:90px}
    .price-section{background:#f8f9ff;border:2px solid #27ae60;border-radius:8px;padding:12px;margin:14px 0;text-align:center}
    .seller-badge{background:#667eea;color:white;padding:6px 12px;border-radius:16px;font-size:0.85rem;margin:10px 0;display:inline-block}
    .modal-close{position:absolute;top:8px;left:8px;cursor:pointer;font-weight:800;color:#333}
    .order-item{background:#f8f9ff;padding:10px;border-radius:8px;margin-bottom:8px}
    .timer{font-weight:800;color:#b81d13}
    .admin-sellers,.courier-list,.returns-list{display:flex;flex-direction:column;gap:8px}
    .seller-row,.courier-row,.return-row{background:#f1f5f9;padding:8px;border-radius:8px;display:flex;justify-content:space-between;align-items:center}
    .returned{color:#27ae60;font-weight:700}
    .tick-green{color:#27ae60;font-weight:700}
    .text-gray{color:#777;font-weight:600}
    .return-table{display:grid;grid-template-columns:1fr 1fr 1fr 2fr;gap:8px;background:#f8f9ff;padding:8px;border-radius:8px;margin-bottom:8px}
    .delivery-table{display:grid;grid-template-columns:1fr 1fr 1fr 1fr 2fr;gap:8px;background:#f8f9ff;padding:8px;border-radius:8px;margin-bottom:8px}
    .return-header{font-weight:700;background:#e0e7ff;padding:8px;border-radius:6px;text-align:center}
    .return-cell{padding:8px;background:#f1f5f9;border-radius:6px;text-align:center}
    .seller-status{margin-bottom:20px}

    /* ---------- Team / Footer styles ---------- */
    .team-section {
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
        padding: 40px;
        border-radius: 20px;
        margin-top: 40px;
    }

    .team-section h2 { margin: 0; }

    .team-features {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 30px;
        margin-top: 30px;
        align-items: stretch;
    }

    .team-credit-card {
        grid-column: span 2;
        background: rgba(255,255,255,0.08);
        backdrop-filter: blur(8px);
        padding: 22px;
        border-radius: 15px;
        transition: all 0.25s ease;
        min-height: 200px;
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
    }

    .team-credit-card:hover {
        background: rgba(255,255,255,0.15);
        transform: translateY(-6px);
        box-shadow: 0 10px 30px rgba(0,0,0,0.12);
    }

    @media (max-width: 768px) {
        .team-credit-card {
            grid-column: span 1;
        }
    }

    .feature-card {
        background: rgba(255,255,255,0.08);
        backdrop-filter: blur(8px);
        padding: 22px;
        border-radius: 15px;
        transition: all 0.25s ease;
        min-height: 200px;
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
    }

    .feature-card:hover {
        background: rgba(255,255,255,0.15);
        transform: translateY(-6px);
        box-shadow: 0 10px 30px rgba(0,0,0,0.12);
    }

    .feature-title {
        font-size: 1.15rem;
        font-weight: 800;
        margin-bottom: 12px;
        display: flex;
        align-items: center;
        gap: 12px;
    }

    .feature-description {
        line-height: 1.6;
        opacity: 0.95;
        font-size: 0.98rem;
    }

    .training-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 15px;
        margin: 20px 0;
    }

    .training-card {
        background: #f8f9ff;
        padding: 20px;
        border-radius: 10px;
        cursor: pointer;
        border: 1px solid #e0e7ff;
        transition: all 0.3s ease;
        position: relative;
    }

    .training-card:hover {
        background: #e8f4f8;
        border-color: #667eea;
        transform: translateY(-2px);
        box-shadow: 0 4px 15px rgba(102, 126, 234, 0.15);
    }

    .training-card h4 {
        color: #667eea;
        margin: 0 0 10px 0;
    }

    .training-card p {
        color: #666;
        margin: 0;
        font-size: 0.9rem;
    }

    .training-notification {
        position: absolute;
        top: -6px;
        left: -6px;
        background: #e74c3c;
        color: #fff;
        padding: 2px 6px;
        border-radius: 8px;
        font-size: 0.8rem;
        font-weight: bold;
        display: none;
    }

    @media (max-width: 480px) {
      .team-section { padding: 24px; }
      .feature-card { padding: 18px; }
      .feature-title { font-size: 1rem; gap:8px; }
      .training-grid { grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>
<div class="container">
  <div class="header">
    <div class="logo">
      <div>
        <div class="logo-text">Ø¯ÛŒØ¬ÛŒ Ù¾Ù„Ø§Ø³</div>
        <div class="slogan">Ù†Ù…Ø§Ø¯ Ø§Ø¹ØªÙ…Ø§Ø¯</div>
      </div>
      <div class="logo-icon">+</div>
    </div>
    <div class="user-info">
      <div class="balance" id="balanceDiv" style="display:none">Ù…ÙˆØ¬ÙˆØ¯ÛŒ: <span id="userBalance">0</span> ØªÙˆÙ…Ø§Ù†</div>
      <div class="cart-icon" id="trainingIcon" onclick="showSalesTrainingMenu()" style="display:none;margin-left:15px">ğŸ“š Ø¢Ù…ÙˆØ²Ø´ ØªØ±ÙÙ†Ø¯Ù‡Ø§ Ùˆ ØªÚ©Ù†ÛŒÚ© Ù‡Ø§ÛŒ ÙØ±ÙˆØ´<span class="cart-badge" id="trainingBadge">0</span></div>
      <div class="orders-icon" id="ordersIcon" onclick="showSection('myorders')" style="display:none">ğŸ“‹ Ø³ÙØ§Ø±Ø´Ø§Øª Ù…Ù†</div>
      <div class="cart-icon" id="cartIcon" onclick="showSection('cart')" style="display:none">ğŸ›’ Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯<span class="cart-badge" id="cartBadge">0</span></div>
      <div id="username">
        <span id="userDisplayName">Ù¾Ø§Ø±Ø³Ø§ Ø³Ø®Ù† Ø³Ù†Ø¬</span>
      </div>
    </div>
  </div>

  <div class="nav-tabs">
    <div class="nav-tab active" onclick="showSection('shop')">ğŸ›ï¸ ÙØ±ÙˆØ´Ú¯Ø§Ù‡</div>
    <div class="nav-tab panel-dropdown">
      <span id="panelTitle">ğŸ‘¤ Ù¾Ù†Ù„ Ù…Ù† â–¾</span>
      <div class="dropdown-menu" id="panelMenu">
        <div class="dropdown-item" onclick="openPanel('customer')">Ù…Ø´ØªØ±ÛŒ</div>
        <div class="dropdown-item" onclick="openPanel('seller')">ÙØ±ÙˆØ´Ù†Ø¯Ù‡</div>
        <div class="dropdown-item" onclick="openPanel('admin')">Ù…Ø¯ÛŒØ±ÛŒØª</div>
        <div class="dropdown-item" onclick="openPanel('courier')">Ù¾ÛŒÚ©</div>
      </div>
    </div>
  </div>

  <div id="shop" class="content-card">
    <h3>Ù…Ø­ØµÙˆÙ„Ø§Øª</h3>
    <div class="products-grid" id="productsGrid"></div>

    <!-- Team Section (Footer) -->
    <div class="team-section" aria-labelledby="team-heading">
        <h2 id="team-heading" style="text-align: center; font-size: 2rem; margin-bottom: 20px;">
            Ø­Ù„ Ù…Ø´Ú©Ù„ Ø¹Ø¯Ù… Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¨Ù‡ ÙØ±ÙˆØ´Ù†Ø¯Ú¯Ø§Ù† Ù†Ø§Ø´Ù†Ø§Ø³
        </h2>

        <div class="team-features" role="list">
            <div class="feature-card" role="listitem">
                <div>
                  <div class="feature-title">
                      <span>ğŸ¥‡</span>
                      <span>Ø¨Ø±Ú†Ø³Ø¨ Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¯ÛŒØ¬ÛŒâ€ŒÚ©Ø§Ù„Ø§</span>
                  </div>
                  <div class="feature-description">
                      ÙØ±ÙˆØ´Ù†Ø¯Ú¯Ø§Ù† Ø¨Ø§ Ù¾Ø±Ø¯Ø§Ø®Øª Ø¶Ù…Ø§Ù†Øª Ù…Ø§Ù„ÛŒØŒ Ø¨Ø±Ú†Ø³Ø¨ Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¯Ø±ÛŒØ§ÙØª Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯ Ú©Ù‡ Ø§Ø¹ØªØ¨Ø§Ø± Ø¢Ù†â€ŒÙ‡Ø§ Ø±Ø§ ØªØ¶Ù…ÛŒÙ† Ù…ÛŒâ€ŒÚ©Ù†Ø¯.
                      <br><br>
                      <strong>Ø¨Ø±Ø§ÛŒ Ù…Ø´Ø§Ù‡Ø¯Ù‡:</strong> Ø±ÙˆÛŒ Ø¨Ø±Ú†Ø³Ø¨ Ø³Ø¨Ø² Ú©Ù†Ø§Ø± Ù†Ø§Ù… ÙØ±ÙˆØ´Ù†Ø¯Ù‡ hover Ú©Ù†ÛŒØ¯ ÛŒØ§ Ø§Ø² Ù…Ù†ÙˆÛŒ Ù¾Ù†Ù„ Ù…Ù† &gt; ÙØ±ÙˆØ´Ù†Ø¯Ù‡ØŒ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¨Ø±Ú†Ø³Ø¨ Ø¯Ù‡ÛŒØ¯.
                  </div>
                </div>
            </div>

            <div class="feature-card" role="listitem">
                <div>
                  <div class="feature-title">
                      <span>ğŸ’³</span>
                      <span>Ù¾Ø±Ø¯Ø§Ø®Øª Ø§Ù…Ù†</span>
                  </div>
                  <div class="feature-description">
                      Ù…Ø¨Ù„Øº Ø®Ø±ÛŒØ¯ ØªØ§ Ø²Ù…Ø§Ù† ØªØ­ÙˆÛŒÙ„ Ú©Ø§Ù„Ø§ Ø¯Ø± Ø­Ø³Ø§Ø¨ Ø§Ù…Ø§Ù†Øª Ù†Ú¯Ù‡Ø¯Ø§Ø±ÛŒ Ù…ÛŒâ€ŒØ´ÙˆØ¯ Ùˆ Ù¾Ø³ Ø§Ø² ØªØ£ÛŒÛŒØ¯ Ù¾ÛŒÚ© Ø¨Ù‡ ÙØ±ÙˆØ´Ù†Ø¯Ù‡ Ù…Ù†ØªÙ‚Ù„ Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø¯.
                      <br><br>
                      <strong>Ø¨Ø±Ø§ÛŒ Ù…Ø´Ø§Ù‡Ø¯Ù‡:</strong> Ø¯Ø± ØµÙØ­Ù‡ Ø¬Ø²Ø¦ÛŒØ§Øª Ù…Ø­ØµÙˆÙ„ØŒ Ø±ÙˆÛŒ Ø¹Ù„Ø§Ù…Øª Ø³Ø¤Ø§Ù„ Ú©Ù†Ø§Ø± Ø¯Ú©Ù…Ù‡ Ù¾Ø±Ø¯Ø§Ø®Øª Ø§Ù…Ù† Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯.
                  </div>
                </div>
            </div>

            <div class="feature-card" role="listitem">
                <div>
                  <div class="feature-title">
                      <span>â†©ï¸</span>
                      <span>Ù…Ø±Ø¬ÙˆØ¹ÛŒ 14 Ø±ÙˆØ²Ù‡</span>
                  </div>
                  <div class="feature-description">
                      Ø®Ø±ÛŒØ¯Ø§Ø±Ø§Ù† ØªØ§ 14 Ø±ÙˆØ² ÙØ±ØµØª Ù…Ø±Ø¬ÙˆØ¹ Ú©Ø±Ø¯Ù† Ú©Ø§Ù„Ø§ Ø±Ø§ Ø¯Ø§Ø±Ù†Ø¯ Ú©Ù‡ Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¨Ù‡ Ø®Ø±ÛŒØ¯ Ø±Ø§ Ø§ÙØ²Ø§ÛŒØ´ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯.
                      <br><br>
                      <strong>Ø¨Ø±Ø§ÛŒ Ù…Ø´Ø§Ù‡Ø¯Ù‡:</strong> Ø§Ø² Ù…Ù†ÙˆÛŒ Ù¾Ù†Ù„ Ù…Ù† &gt; Ù…Ø´ØªØ±ÛŒØŒ Ú©Ø§Ù„Ø§Ù‡Ø§ÛŒ Ø®Ø±ÛŒØ¯Ø§Ø±ÛŒ Ø´Ø¯Ù‡ Ø±Ø§ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ú©Ù†ÛŒØ¯.
                  </div>
                </div>
            </div>

            <div class="feature-card" role="listitem">
                <div>
                  <div class="feature-title">
                      <span>âš™ï¸</span>
                      <span>Ø³ÛŒØ³ØªÙ… Ù†Ø¸Ø§Ø±Øª Ù¾ÛŒØ´Ø±ÙØªÙ‡</span>
                  </div>
                  <div class="feature-description">
                      Ø³ÛŒØ³ØªÙ… Ù†Ø¸Ø§Ø±Øª Ø¨Ø± ÙØ±ÙˆØ´Ù†Ø¯Ú¯Ø§Ù† Ùˆ ØªØ£ÛŒÛŒØ¯ Ø¨Ø±Ú†Ø³Ø¨ Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¨Ø±Ø§ÛŒ Ú©Ù†ØªØ±Ù„ Ú©ÛŒÙÛŒØª Ù…Ø­ØµÙˆÙ„Ø§Øª.
                      <br><br>
                      <strong>Ø¨Ø±Ø§ÛŒ Ù…Ø´Ø§Ù‡Ø¯Ù‡:</strong> Ø§Ø² Ù…Ù†ÙˆÛŒ Ù¾Ù†Ù„ Ù…Ù† &gt; Ù…Ø¯ÛŒØ±ÛŒØªØŒ ÙˆØ¶Ø¹ÛŒØª ÙØ±ÙˆØ´Ù†Ø¯Ú¯Ø§Ù† Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒØ¯.
                  </div>
                </div>
            </div>

            <div class="feature-card" role="listitem">
                <div>
                  <div class="feature-title">
                      <span>ğŸ“¦âœï¸</span>
                      <span>ØªØ­ÙˆÛŒÙ„ Ø§Ù…Ù† Ø¨Ø§ Ø§Ù…Ø¶Ø§</span>
                  </div>
                  <div class="feature-description">
                      Ù¾ÛŒÚ©â€ŒÙ‡Ø§ Ø¨Ø§ Ø¯Ø±ÛŒØ§ÙØª Ø§Ù…Ø¶Ø§ÛŒ Ø¯ÛŒØ¬ÛŒØªØ§Ù„ØŒ ØªØ­ÙˆÛŒÙ„ Ú©Ø§Ù„Ø§ Ø±Ø§ ØªØ£ÛŒÛŒØ¯ Ùˆ Ø§Ù†ØªÙ‚Ø§Ù„ ÙˆØ¬Ù‡ Ø±Ø§ ÙØ¹Ø§Ù„ Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯.
                      <br><br>
                      <strong>Ø¨Ø±Ø§ÛŒ Ù…Ø´Ø§Ù‡Ø¯Ù‡:</strong> Ø§Ø² Ù…Ù†ÙˆÛŒ Ù¾Ù†Ù„ Ù…Ù† &gt; Ù¾ÛŒÚ©ØŒ ÙØ±Ø¢ÛŒÙ†Ø¯ ØªØ­ÙˆÛŒÙ„ Ø±Ø§ Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ú©Ù†ÛŒØ¯.
                  </div>
                </div>
            </div>

            <div class="feature-card" role="listitem">
                <div>
                  <div class="feature-title">
                      <span>âš¡</span>
                      <span>ØªØ¹Ø§Ù…Ù„Ø§Øª Realtime Ø¯Ø± Ø§ÛŒÙ† MVP</span>
                  </div>
                  <div class="feature-description">
                      <strong>Ø¨Ø±Ø§ÛŒ ÙØ±ÙˆØ´Ù†Ø¯Ù‡:</strong> Ù¾Ù†Ù„ Ù…Ù† &gt; ÙØ±ÙˆØ´Ù†Ø¯Ù‡ &gt; Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¨Ø±Ú†Ø³Ø¨ Ø§Ø¹ØªÙ…Ø§Ø¯. Ø³Ù¾Ø³ Ù¾Ù†Ù„ Ù…Ù† &gt; Ù…Ø¯ÛŒØ±ÛŒØª Ø¨Ø±Ø§ÛŒ Ù…Ø´Ø§Ù‡Ø¯Ù‡ ØªØºÛŒÛŒØ± ÙˆØ¶Ø¹ÛŒØª.
                      <br><br>
                      <strong>Ø¨Ø±Ø§ÛŒ Ù¾ÛŒÚ©:</strong> Ù¾Ù†Ù„ Ù…Ù† &gt; Ù¾ÛŒÚ© &gt; ØªØ§ÛŒÛŒØ¯ ØªØ­ÙˆÛŒÙ„. Ø³Ù¾Ø³ Ù¾Ù†Ù„ Ù…Ù† &gt; Ù…Ø¯ÛŒØ±ÛŒØª Ø¨Ø±Ø§ÛŒ Ù…Ø´Ø§Ù‡Ø¯Ù‡ ØªÛŒÚ© Ø³Ø¨Ø².
                      <br><br>
                      <strong>Ø¨Ø±Ø§ÛŒ Ù…Ø´ØªØ±ÛŒ:</strong> Ø®Ø±ÛŒØ¯ Ù…Ø­ØµÙˆÙ„ØŒ Ø³Ù¾Ø³ Ù…Ø±Ø¬ÙˆØ¹ Ú©Ø§Ù„Ø§ Ø§Ø² "Ø³ÙØ§Ø±Ø´Ø§Øª Ù…Ù†". Ø¯Ø± Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª ØªØºÛŒÛŒØ±Ø§Øª Ø±Ø§ Ø¨Ø¨ÛŒÙ†ÛŒØ¯.
                  </div>
                </div>
            </div>

            <div class="feature-card" role="listitem">
                <div>
                  <div class="feature-title">
                      <span>ğŸ“</span>
                      <span>Ø¢Ù…ÙˆØ²Ø´ ØªØ±ÙÙ†Ø¯Ù‡Ø§ Ùˆ ØªÚ©Ù†ÛŒÚ© Ù‡Ø§ÛŒ ÙØ±ÙˆØ´ Ø¨Ù‡ ÙØ±ÙˆØ´Ù†Ø¯Ú¯Ø§Ù†</span>
                  </div>
                  <div class="feature-description">
                      Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø¬Ø§Ù…Ø¹ ÙØ±ÙˆØ´Ù†Ø¯Ú¯Ø§Ù† Ø´Ø§Ù…Ù„ Ø¢Ù…ÙˆØ²Ø´ Ø§Ø®Ø° Ø¨Ø±Ú†Ø³Ø¨â€ŒÙ‡Ø§ÛŒ Ø§Ø¹ØªÙ…Ø§Ø¯ØŒ ØªÚ©Ù†ÛŒÚ©â€ŒÙ‡Ø§ÛŒ Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù…Ø­ØµÙˆÙ„ Ùˆ Ø§Ø³ØªØ±Ø§ØªÚ˜ÛŒâ€ŒÙ‡Ø§ÛŒ Ø§ÙØ²Ø§ÛŒØ´ ÙØ±ÙˆØ´.
                      <br><br>
                      <strong>Ø¨Ø±Ø§ÛŒ Ù…Ø´Ø§Ù‡Ø¯Ù‡:</strong> Ø§Ø² Ù…Ù†ÙˆÛŒ Ù¾Ù†Ù„ Ù…Ù† &gt; ÙØ±ÙˆØ´Ù†Ø¯Ù‡ØŒ Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡ "Ø¢Ù…ÙˆØ²Ø´ ØªØ±ÙÙ†Ø¯Ù‡Ø§ÛŒ ÙØ±ÙˆØ´" Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯ Ùˆ Ø¢Ù…ÙˆØ²Ø´â€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø¯ÛŒ Ø±Ø§ Ù…Ø·Ø§Ù„Ø¹Ù‡ Ù†Ù…Ø§ÛŒÛŒØ¯.
                  </div>
                </div>
            </div>

            <div class="team-credit-card" role="listitem">
                <div>
                  <div class="feature-title">
                      <span>ğŸš€</span>
                      <span>Ø·Ø±Ø­ ØªÙˆØ³Ø· Ú¯Ø±ÙˆÙ‡ Ø§Ø³ØªØ§Ø±ØªØ§Ù¾ÛŒ Pal Labs</span>
                  </div>
                  <div class="feature-description" style="margin-top: 15px;">
                      Ù…Ø­Ù…Ø¯ Ø³Ø®Ù† Ø³Ù†Ø¬ ØŒ ÙØ§Ø·Ù…Ù‡ ØµØ¨Ø§Øº Ú©Ø§Ø´Ø§Ù†ÛŒ
                      <br><br>
                      Ø§ÛŒÙ† MVP Ø¨Ø±Ø§ÛŒ Ø­Ù„ Ù…Ø´Ú©Ù„ Ø¹Ø¯Ù… Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¨Ù‡ ÙØ±ÙˆØ´Ù†Ø¯Ú¯Ø§Ù† Ù†Ø§Ø´Ù†Ø§Ø³ Ø¯Ø± Ù¾Ù„ØªÙØ±Ù…â€ŒÙ‡Ø§ÛŒ ØªØ¬Ø§Ø±Øª Ø§Ù„Ú©ØªØ±ÙˆÙ†ÛŒÚ© Ø·Ø±Ø§Ø­ÛŒ Ø´Ø¯Ù‡ Ø§Ø³Øª.
                      <br><br>
                      <div style="text-align: center; margin-top: 20px;">
                        <span style="opacity: 0.7; font-size: 0.85rem; font-style: italic;">"Ø¯Ù‡Ù…ÛŒÙ† Ú©Ù…Ù¾ Ø§Ø³ØªØ§Ø±ØªØ§Ù¾ÛŒ Ø¯ÛŒØ¬ÛŒ Ù†Ú©Ø³Øª"</span>
                      </div>
                  </div>
                </div>
            </div>

        </div>
    </div>
    <!-- End Team Section -->

  </div>

  <div id="cart" class="content-card" style="display:none">
    <h3>Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯</h3>
    <div id="cartItems">Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ Ø®Ø§Ù„ÛŒ Ø§Ø³Øª.</div>
  </div>

  <div id="myorders" class="content-card" style="display:none">
    <h3>Ø³ÙØ§Ø±Ø´Ø§Øª Ù…Ù†</h3>
    <div id="myOrdersList">Ù‡Ù†ÙˆØ² Ø³ÙØ§Ø±Ø´ÛŒ Ù†Ø¯Ø§Ø±ÛŒØ¯.</div>
  </div>

  <div id="customer" class="content-card" style="display:none">
    <h3>Ù¾Ù†Ù„ Ù…Ø´ØªØ±ÛŒ</h3>
    <p><strong>Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ:</strong> Ù¾Ø§Ø±Ø³Ø§ Ø³Ø®Ù† Ø³Ù†Ø¬</p>
    <p><strong>Ø¢Ø¯Ø±Ø³:</strong> ØªÙ‡Ø±Ø§Ù†ØŒ Ø®ÛŒØ§Ø¨Ø§Ù† ÙˆÙ„ÛŒØ¹ØµØ±ØŒ Ù¾Ù„Ø§Ú© Û±Û²Û³</p>
    <p><strong>Ø´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³:</strong> 09120000000</p>
    <h4>Ø³ÙØ§Ø±Ø´â€ŒÙ‡Ø§</h4>
    <div id="customerOrdersList"></div>
  </div>

  <div id="seller" class="content-card" style="display:none">
    <h3>Ù¾Ù†Ù„ ÙØ±ÙˆØ´Ù†Ø¯Ù‡</h3>
    <p><strong>Ù†Ø§Ù… ÙØ±ÙˆØ´Ù†Ø¯Ù‡:</strong> ÙØ±ÙˆØ´Ú¯Ø§Ù‡ ØªÚ© Ø§Ø³ØªØ§Ø±</p>
    <p><strong>Ø¢Ø¯Ø±Ø³:</strong> Ø§ØµÙÙ‡Ø§Ù†ØŒ Ø®ÛŒØ§Ø¨Ø§Ù† Ú†Ù‡Ø§Ø±Ø¨Ø§Øº Ø¹Ø¨Ø§Ø³ÛŒ</p>
    <p><strong>Ø´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³:</strong> 031300000</p>
    <div class="seller-status" id="sellerStatus">ÙˆØ¶Ø¹ÛŒØª: Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø± Ø¯Ø±Ø®ÙˆØ§Ø³Øª</div>
    <button class="btn btn-success" onclick="requestTrustBadge()">ğŸ›¡ï¸ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¨Ø±Ú†Ø³Ø¨ Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¯ÛŒØ¬ÛŒ Ú©Ø§Ù„Ø§</button>
  </div>

  <div id="admin" class="content-card" style="display:none">
    <h3>Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª</h3>
    <h4>ÙˆØ¶Ø¹ÛŒØª ØªÛŒÚ© Ø§Ø¹ØªÙ…Ø§Ø¯ ÙØ±ÙˆØ´Ù†Ø¯Ù‡â€ŒÙ‡Ø§</h4>
    <div class="admin-sellers" id="adminSellers"></div>
    <h4>ÙˆØ¶Ø¹ÛŒØª Ø¯Ø±ÛŒØ§ÙØªÛŒ Ú©Ø§Ù„Ø§</h4>
    <div class="courier-list" id="adminCourierStatus"></div>
    <h4>ÙˆØ¶Ø¹ÛŒØª Ù…Ø±Ø¬ÙˆØ¹ÛŒâ€ŒÙ‡Ø§</h4>
    <div class="returns-list" id="returnStatus"></div>
  </div>

  <div id="courier" class="content-card" style="display:none">
    <h3>Ù¾Ù†Ù„ Ù¾ÛŒÚ©</h3>
    <div class="courier-list" id="courierList"></div>
  </div>

  <!-- ØµÙØ­Ù‡ Ø¢Ù…ÙˆØ²Ø´ÛŒ -->
  <div id="salesTraining" class="content-card" style="display:none">
    <h3>ğŸ“š Ø¢Ù…ÙˆØ²Ø´ ØªØ±ÙÙ†Ø¯Ù‡Ø§ÛŒ ÙØ±ÙˆØ´</h3>
    <p>Ø¢Ù…ÙˆØ²Ø´â€ŒÙ‡Ø§ÛŒÛŒ Ø¨Ø±Ø§ÛŒ Ø§ÙØ²Ø§ÛŒØ´ ÙØ±ÙˆØ´ Ùˆ Ø§Ø¹ØªÙ…Ø§Ø¯Ø³Ø§Ø²ÛŒ</p>
    
    <div class="training-grid">
      <div class="training-card" onclick="showTrainingContent('trustBadge')">
        <span id="trustBadgeNotif" class="training-notification">1</span>
        <h4>ğŸ›¡ï¸ Ø¢Ù…ÙˆØ²Ø´ Ø§Ø®Ø° Ø¨Ø±Ú†Ø³Ø¨ Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¯ÛŒØ¬ÛŒ Ú©Ø§Ù„Ø§</h4>
        <p>Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ú©Ø§Ù…Ù„ Ø¯Ø±ÛŒØ§ÙØª Ø¨Ø±Ú†Ø³Ø¨ Ø§Ø¹ØªÙ…Ø§Ø¯ Ø±Ø³Ù…ÛŒ Ø¯ÛŒØ¬ÛŒ Ú©Ø§Ù„Ø§</p>
      </div>
      
      <div class="training-card" onclick="showTrainingContent('shaparak')">
        <span id="shaparakNotif" class="training-notification">1</span>
        <h4>ğŸª™ Ø¢Ù…ÙˆØ²Ø´ Ø§Ø®Ø° Ø¨Ø±Ú†Ø³Ø¨ Ø´Ø§Ù¾Ø±Ú©</h4>
        <p>Ù…Ø±Ø§Ø­Ù„ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ùˆ Ø§Ø®Ø° Ù†Ù…Ø§Ø¯ Ø§Ø¹ØªÙ…Ø§Ø¯ Ø§Ù„Ú©ØªØ±ÙˆÙ†ÛŒÚ©ÛŒ</p>
      </div>
      
      <div class="training-card" onclick="showTrainingContent('salesTechniques')">
        <span id="salesTechniquesNotif" class="training-notification">1</span>
        <h4>ğŸš€ ØªÚ©Ù†ÛŒÚ©â€ŒÙ‡Ø§ÛŒ ÙØ±ÙˆØ´</h4>
        <p>Ø§Ø³ØªØ±Ø§ØªÚ˜ÛŒâ€ŒÙ‡Ø§ÛŒ Ø¹Ù…Ù„ÛŒ Ø¨Ø±Ø§ÛŒ Ø§ÙØ²Ø§ÛŒØ´ ÙØ±ÙˆØ´ Ø¢Ù†Ù„Ø§ÛŒÙ†</p>
      </div>
    </div>
  </div>

  <!-- Ù…Ø­ØªÙˆØ§ÛŒ Ø¢Ù…ÙˆØ²Ø´ÛŒ -->
  <div id="trainingContent" class="content-card" style="display:none">
    <div id="trainingText"></div>
    <button class="btn btn-secondary" onclick="showSection('salesTraining')" style="margin-top:20px">ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù…Ù†ÙˆÛŒ Ø¢Ù…ÙˆØ²Ø´</button>
  </div>

</div>

<div class="modal" id="modal">
  <div class="modal-box">
    <div class="modal-close" onclick="closeModal()">âœ–</div>
    <div id="modalContent"></div>
  </div>
</div>

<script>
/* ---------- JavaScript ---------- */
const state={
  balance:50000000,
  currentPanel: 'shop',
  trainingNotifications: {
    trustBadge: true,
    shaparak: true,
    salesTechniques: true
  },
  products:[
    {id:1,name:'Ú¯ÙˆØ´ÛŒ Samsung Galaxy S24 Ultra',price:32500000,seller:'Ù…ÙˆØ¨Ø§ÛŒÙ„ Ù¾Ø§Ø±Ø³',trusted:true,img:'ğŸ“±',desc:'Ú¯ÙˆØ´ÛŒ Ù¾Ø±Ú†Ù…Ø¯Ø§Ø± Ø³Ø§Ù…Ø³ÙˆÙ†Ú¯ Ø¨Ø§ Ø¯ÙˆØ±Ø¨ÛŒÙ† 200 Ù…Ú¯Ø§Ù¾ÛŒÚ©Ø³Ù„ÛŒ Ùˆ Ù¾Ø±Ø¯Ø§Ø²Ù†Ø¯Ù‡ Snapdragon 8 Gen 3.\nÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§: ØµÙØ­Ù‡ Ù†Ù…Ø§ÛŒØ´ 6.8 Ø§ÛŒÙ†Ú†ØŒ Ø­Ø§ÙØ¸Ù‡ 512GBØŒ Ø¨Ø§ØªØ±ÛŒ 5000mAhØŒ ÙˆØ²Ù† 220 Ú¯Ø±Ù…ØŒ Ø³Ø§Ù„ Ø³Ø§Ø®Øª 2024ØŒ Ú©Ø´ÙˆØ± ØªÙˆÙ„ÛŒØ¯: Ú©Ø±Ù‡ Ø¬Ù†ÙˆØ¨ÛŒ',rating:4.3,reviewCount:124},
    {id:2,name:'Ù„Ù¾ØªØ§Ù¾ Asus ROG Gaming',price:45000000,seller:'ØªÚ© Ø§Ø³ØªØ§Ø±',trusted:false,img:'ğŸ’»',desc:'Ù„Ù¾ØªØ§Ù¾ Ú¯ÛŒÙ…ÛŒÙ†Ú¯ Ù‚Ø¯Ø±ØªÙ…Ù†Ø¯ Ø¨Ø§ Ú©Ø§Ø±Øª Ú¯Ø±Ø§ÙÛŒÚ© RTX 4070 Ùˆ Ù¾Ø±Ø¯Ø§Ø²Ù†Ø¯Ù‡ Intel Core i7.\nÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§: Ø±Ù… 16GBØŒ Ù¾Ø±Ø¯Ø§Ø²Ù†Ø¯Ù‡ i7ØŒ Ù†Ù…Ø§ÛŒØ´Ú¯Ø± 240HzØŒ ÙˆØ²Ù† 2.3 Ú©ÛŒÙ„ÙˆÚ¯Ø±Ù…ØŒ Ø³Ø§Ù„ Ø³Ø§Ø®Øª 2023ØŒ Ú©Ø´ÙˆØ± ØªÙˆÙ„ÛŒØ¯: ØªØ§ÛŒÙˆØ§Ù†',rating:4.7,reviewCount:89},
    {id:3,name:'Ù‡Ø¯ÙÙˆÙ† Apple AirPods Pro',price:8500000,seller:'ØµÙˆØªÛŒ Ø¯ÛŒØ¬ÛŒØªØ§Ù„',trusted:true,img:'ğŸ§',desc:'Ù‡Ø¯ÙÙˆÙ† Ø¨ÛŒâ€ŒØ³ÛŒÙ… Ø¨Ø§ Ù‚Ø§Ø¨Ù„ÛŒØª Ø­Ø°Ù Ù†ÙˆÛŒØ² ÙØ¹Ø§Ù„ Ùˆ Ú©ÛŒÙÛŒØª ØµØ¯Ø§ÛŒ Ø§Ø³ØªÙˆØ¯ÛŒÙˆÛŒÛŒ.\nÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§: Ø¨Ø§ØªØ±ÛŒ 30 Ø³Ø§Ø¹ØªÙ‡ØŒ Ø¨Ù„ÙˆØªÙˆØ« 5.2ØŒ Ø¯Ø±Ø§ÛŒÙˆØ± 30mmØŒ ÙˆØ²Ù† 250 Ú¯Ø±Ù…ØŒ Ø­Ø°Ù Ù†ÙˆÛŒØ² ÙØ¹Ø§Ù„',rating:4.4,reviewCount:203},
    {id:4,name:'Ø³Ø§Ø¹Øª Ù‡ÙˆØ´Ù…Ù†Ø¯ Apple Watch Series 9',price:15000000,seller:'Ú¯Ø¬Øª Ù¾Ù„Ø§Ø³',trusted:true,img:'âŒš',desc:'Ø³Ø§Ø¹Øª Ù‡ÙˆØ´Ù…Ù†Ø¯ Ù¾ÛŒØ´Ø±ÙØªÙ‡ Ø¨Ø§ Ø³Ù†Ø³ÙˆØ±Ù‡Ø§ÛŒ Ø³Ù„Ø§Ù…ØªÛŒ Ùˆ GPS Ø¯Ù‚ÛŒÙ‚.\nÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§: Ù†Ù…Ø§ÛŒØ´Ú¯Ø± Always-OnØŒ GPSØŒ Ø¶Ø¯ Ø¢Ø¨ØŒ Ø¨Ø§ØªØ±ÛŒ 18 Ø³Ø§Ø¹ØªÙ‡ØŒ Ø³Ù†Ø³ÙˆØ± Ø§Ú©Ø³ÛŒÚ˜Ù† Ø®ÙˆÙ†',rating:4.6,reviewCount:156},
    {id:5,name:'ØªØ¨Ù„Øª iPad Air M2',price:28000000,seller:'ØªØ¨Ù„Øª Ø³Ø±Ø§ÛŒ Ø§Ù¾Ù„',trusted:false,img:'ğŸ“±',desc:'ØªØ¨Ù„Øª Ù‚Ø¯Ø±ØªÙ…Ù†Ø¯ Ø§Ù¾Ù„ Ø¨Ø§ Ù¾Ø±Ø¯Ø§Ø²Ù†Ø¯Ù‡ M2 Ùˆ ØµÙØ­Ù‡ Ù†Ù…Ø§ÛŒØ´ Liquid Retina.\nÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§: ØµÙØ­Ù‡ 10.9 Ø§ÛŒÙ†Ú†ØŒ Ø­Ø§ÙØ¸Ù‡ 256GBØŒ Ù‚Ù„Ù… Apple PencilØŒ ÙˆØ²Ù† 461 Ú¯Ø±Ù…ØŒ Ù¾Ø±Ø¯Ø§Ø²Ù†Ø¯Ù‡ M2',rating:4.5,reviewCount:87},
    {id:6,name:'Ø¯ÙˆØ±Ø¨ÛŒÙ† Canon EOS R5',price:95000000,seller:'Ø¹Ú©Ø§Ø³ÛŒ Ù¾Ø±Ùˆ',trusted:true,img:'ğŸ“·',desc:'Ø¯ÙˆØ±Ø¨ÛŒÙ† Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ Ú©Ø§Ù†Ù† Ø¨Ø§ Ø³Ù†Ø³ÙˆØ± ÙÙˆÙ„ ÙØ±ÛŒÙ… 45 Ù…Ú¯Ø§Ù¾ÛŒÚ©Ø³Ù„ÛŒ.\nÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§: 45 Ù…Ú¯Ø§Ù¾ÛŒÚ©Ø³Ù„ØŒ ÙÛŒÙ„Ù…Ø¨Ø±Ø¯Ø§Ø±ÛŒ 8KØŒ Ù„Ø±Ø²Ø´Ú¯ÛŒØ±ØŒ ÙˆØ²Ù† 738 Ú¯Ø±Ù…ØŒ Ø³Ù†Ø³ÙˆØ± ÙÙˆÙ„ ÙØ±ÛŒÙ…',rating:4.8,reviewCount:45},
    {id:7,name:'Ú©Ù†Ø³ÙˆÙ„ PlayStation 5',price:22000000,seller:'Ú¯ÛŒÙ… Ø³Ù†ØªØ±',trusted:true,img:'ğŸ®',desc:'Ú©Ù†Ø³ÙˆÙ„ Ø¨Ø§Ø²ÛŒ Ù†Ø³Ù„ Ø¬Ø¯ÛŒØ¯ Ø³ÙˆÙ†ÛŒ Ø¨Ø§ Ù¾Ø±Ø¯Ø§Ø²Ù†Ø¯Ù‡ AMD Zen 2.\nÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§: Ù¾Ø±Ø¯Ø§Ø²Ù†Ø¯Ù‡ 8 Ù‡Ø³ØªÙ‡â€ŒØ§ÛŒØŒ Ú©Ø§Ø±Øª Ú¯Ø±Ø§ÙÛŒÚ© RDNA 2ØŒ Ø­Ø§ÙØ¸Ù‡ 825GB SSDØŒ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø§Ø² 4KØŒ Ray Tracing',rating:4.7,reviewCount:312},
    {id:8,name:'Ù…Ø§ÙˆØ³ Logitech MX Master 3S',price:3200000,seller:'Ú©Ø§Ù…Ù¾ÛŒÙˆØªØ± Ù…Ø±Ú©Ø²ÛŒ',trusted:false,img:'ğŸ–±ï¸',desc:'Ù…Ø§ÙˆØ³ Ø¨ÛŒâ€ŒØ³ÛŒÙ… Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ Ø¨Ø§ Ø³Ù†Ø³ÙˆØ± Ø¯Ù‚ÛŒÙ‚ Ùˆ Ø¨Ø§ØªØ±ÛŒ Ø·ÙˆÙ„Ø§Ù†ÛŒ Ù…Ø¯Øª.\nÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§: Ø³Ù†Ø³ÙˆØ± 8000 DPIØŒ Ø¨Ø§ØªØ±ÛŒ 70 Ø±ÙˆØ²Ù‡ØŒ Ø§ØªØµØ§Ù„ Ø¨Ù„ÙˆØªÙˆØ« Ùˆ USBØŒ Ø·Ø±Ø§Ø­ÛŒ Ø§Ø±Ú¯ÙˆÙ†ÙˆÙ…ÛŒÚ©ØŒ Ù…Ù‚Ø§ÙˆÙ… Ø¯Ø± Ø¨Ø±Ø§Ø¨Ø± Ø¢Ø¨',rating:4.5,reviewCount:198}
  ],
  cart:[],
  myOrders:[],
  orders:[],
  sellers:[
    {name:'Ù…ÙˆØ¨Ø§ÛŒÙ„ Ù¾Ø§Ø±Ø³',trusted:false,status:'Ø¯Ø± Ø­Ø§Ù„ Ø§Ù†ØªØ¸Ø§Ø±'},
    {name:'ØªÚ© Ø§Ø³ØªØ§Ø±',trusted:true,status:'(Ù…ØªØ§Ø«Ø± Ø§Ø² Real-time interaction Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† ÙØ±ÙˆØ´Ù†Ø¯Ù‡ Ø¯Ø± Ø§ÛŒÙ† MVP)'}
  ],
  couriers:[
    {order:'Ø³ÙØ§Ø±Ø´ 1 - ÙØ±Ø´Ø§Ø¯ Ú©Ø±ÛŒÙ…ÛŒ',status:'ØªØ­ÙˆÛŒÙ„ Ùˆ Ø§Ù…Ø¶Ø§ Ø´Ø¯Ù‡',delivered:true,customer:'ÙØ±Ø´Ø§Ø¯ Ú©Ø±ÛŒÙ…ÛŒ',shop:'Ù…ÙˆØ¨Ø§ÛŒÙ„ Ù¾Ø§Ø±Ø³',productCode:'PS-A1244722237834',courierName:'Ø±Ø¶Ø§ Ø§Ø­Ù…Ø¯ÛŒ'},
    {order:'Ø³ÙØ§Ø±Ø´ 2 - Ù†Ø³ÛŒÙ… Ø§Ø­Ù…Ø¯ÛŒ',status:'(Ù…ØªØ§Ø«Ø± Ø§Ø² Real-time interaction Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ù¾ÛŒÚ© Ø¯Ø± Ø§ÛŒÙ† MVP)',delivered:false,customer:'Ù†Ø³ÛŒÙ… Ø§Ø­Ù…Ø¯ÛŒ',shop:'ØªÚ© Ø§Ø³ØªØ§Ø±',productCode:'PS-B1244722237834',courierName:'Ø§Ø­Ù…Ø¯ Ù†ÙˆØ±ÛŒ'}
  ],
  returns:[
    {customer:'Ø²Ù‡Ø±Ø§ Ù…Ù‡Ø±Ø§Ø¨ÛŒ',shop:'Ù…ÙˆØ¨Ø§ÛŒÙ„ Ù¾Ø§Ø±Ø³',productCode:'PS-A1244722237834',status:'âœ“ Ù…Ø±Ø¬ÙˆØ¹ Ø´Ø¯Ù‡'},
    {customer:'Ø¹Ù„ÛŒ Ø±Ø¶Ø§ÛŒÛŒ',shop:'ØªÚ© Ø§Ø³ØªØ§Ø±',productCode:'PS-B1244722237834',status:'â³ Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø± Ø¯Ø±ÛŒØ§ÙØª Ù…Ø¨Ù„Øº Ú©Ø§Ù„Ø§ÛŒ Ù…Ø±Ø¬ÙˆØ¹ÛŒ'},
    {customer:'Ù¾Ø§Ø±Ø³Ø§ Ø³Ø®Ù† Ø³Ù†Ø¬',shop:'',productCode:'',status:'(Ù…ØªØ§Ø«Ø± Ø§Ø² Real-time interaction Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ù…Ø´ØªØ±ÛŒ Ø¯Ø± Ø§ÛŒÙ† MVP)'}
  ]
};

function updateTrainingNotifications() {
  const notificationCount = Object.values(state.trainingNotifications).filter(Boolean).length;
  const badge = document.getElementById('trainingBadge');
  
  if(notificationCount > 0) {
    badge.style.display = 'inline-block';
    badge.textContent = notificationCount;
  } else {
    badge.style.display = 'none';
    badge.textContent = '0';
  }
}

function fmt(n){return Number(n).toLocaleString('fa-IR')}

function updateTrainingPageNotifications() {
  const trustBadgeNotif = document.getElementById('trustBadgeNotif');
  const shaparakNotif = document.getElementById('shaparakNotif');
  const salesTechniquesNotif = document.getElementById('salesTechniquesNotif');
  
  trustBadgeNotif.style.display = state.trainingNotifications.trustBadge ? 'block' : 'none';
  shaparakNotif.style.display = state.trainingNotifications.shaparak ? 'block' : 'none';
  salesTechniquesNotif.style.display = state.trainingNotifications.salesTechniques ? 'block' : 'none';
}

function showSalesTrainingMenu(){
  showSection('salesTraining');
  updateTrainingPageNotifications();
}

function showTrainingContent(type) {
  // Ø­Ø°Ù Ù†ÙˆØªÛŒÙÛŒÚ©ÛŒØ´Ù† Ø¨Ø±Ø§ÛŒ Ø¢Ù…ÙˆØ²Ø´ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø´Ø¯Ù‡
  if(state.trainingNotifications[type]) {
    state.trainingNotifications[type] = false;
    updateTrainingNotifications();
    updateTrainingPageNotifications();
  }
  
  const contentDiv = document.getElementById('trainingText');
  let content = '';
  
  switch(type) {
    case 'trustBadge':
      content = `
        <h3>ğŸ›¡ï¸ Ø¢Ù…ÙˆØ²Ø´ Ø§Ø®Ø° Ø¨Ø±Ú†Ø³Ø¨ Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¯ÛŒØ¬ÛŒ Ú©Ø§Ù„Ø§</h3>
        
        <h4>ğŸ”¹ Ù…Ø²Ø§ÛŒØ§ÛŒ Ø¨Ø±Ú†Ø³Ø¨ Ø§Ø¹ØªÙ…Ø§Ø¯</h4>
        <p>â€¢ Ø§ÙØ²Ø§ÛŒØ´ 70% Ø¯Ø± Ù†Ø±Ø® Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ Ù…Ø­ØµÙˆÙ„Ø§Øª</p>
        <p>â€¢ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø± Ù†ØªØ§ÛŒØ¬ Ø¨Ø±ØªØ± Ø¬Ø³ØªØ¬Ùˆ</p>
        <p>â€¢ Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¨ÛŒØ´ØªØ± Ù…Ø´ØªØ±ÛŒØ§Ù† Ùˆ Ú©Ø§Ù‡Ø´ Ù†Ú¯Ø±Ø§Ù†ÛŒâ€ŒÙ‡Ø§</p>
        <p>â€¢ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ÛŒ ØªØ¨Ù„ÛŒØºØ§ØªÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡</p>
        
        <h4>ğŸ”¹ Ù…Ø±Ø§Ø­Ù„ Ø¯Ø±ÛŒØ§ÙØª Ø¨Ø±Ú†Ø³Ø¨</h4>
        <p><strong>Ù…Ø±Ø­Ù„Ù‡ 1:</strong> ØªÚ©Ù…ÛŒÙ„ Ø§Ø·Ù„Ø§Ø¹Ø§Øª ÙØ±ÙˆØ´Ú¯Ø§Ù‡</p>
        <p>- Ø¢Ù¾Ù„ÙˆØ¯ Ù…Ø¯Ø§Ø±Ú© Ù‡ÙˆÛŒØªÛŒ Ùˆ Ù…Ø¬ÙˆØ² ÙØ¹Ø§Ù„ÛŒØª</p>
        <p>- ØªØ£ÛŒÛŒØ¯ Ø¢Ø¯Ø±Ø³ ÙÛŒØ²ÛŒÚ©ÛŒ ÙØ±ÙˆØ´Ú¯Ø§Ù‡</p>
        <p>- Ø«Ø¨Øª Ø§Ø·Ù„Ø§Ø¹Ø§Øª ØªÙ…Ø§Ø³ ØµØ­ÛŒØ­</p>
        
        <p><strong>Ù…Ø±Ø­Ù„Ù‡ 2:</strong> Ù¾Ø±Ø¯Ø§Ø®Øª Ø¶Ù…Ø§Ù†Øª Ù†Ø§Ù…Ù‡</p>
        <p>- Ù…Ø¨Ù„Øº: 50 Ù…ÛŒÙ„ÛŒÙˆÙ† ØªÙˆÙ…Ø§Ù† (Ù‚Ø§Ø¨Ù„ Ø¨Ø§Ø²Ú¯Ø´Øª)</p>
        <p>- Ù…Ø¯Øª Ù†Ú¯Ù‡Ø¯Ø§Ø±ÛŒ: 6 Ù…Ø§Ù‡</p>
        <p>- Ø´Ø±Ø§ÛŒØ· Ø¨Ø§Ø²Ú¯Ø´Øª: Ø¹Ù…Ù„Ú©Ø±Ø¯ Ù…Ù†Ø§Ø³Ø¨</p>
        
        <p><strong>Ù…Ø±Ø­Ù„Ù‡ 3:</strong> Ø¨Ø±Ø±Ø³ÛŒ Ùˆ ØªØ£ÛŒÛŒØ¯</p>
        <p>- Ø²Ù…Ø§Ù† Ø¨Ø±Ø±Ø³ÛŒ: 3 ØªØ§ 7 Ø±ÙˆØ² Ú©Ø§Ø±ÛŒ</p>
        <p>- Ø§Ù…ØªÛŒØ§Ø² Ø¹Ù…Ù„Ú©Ø±Ø¯ Ø¨Ø§ÛŒØ¯ Ø¨Ø§Ù„Ø§ÛŒ 4.5 Ø¨Ø§Ø´Ø¯</p>
        <p>- Ø­Ø¯Ø§Ù‚Ù„ 100 ÙØ±ÙˆØ´ Ù…ÙˆÙÙ‚ Ø¯Ø± 3 Ù…Ø§Ù‡ Ú¯Ø°Ø´ØªÙ‡</p>
        
        <div style="background:#e8f4f8; padding:15px; border-radius:8px; margin:15px 0">
          <strong>ğŸ’¡ Ù†Ú©ØªÙ‡ Ù…Ù‡Ù…:</strong> Ù¾Ø³ Ø§Ø² Ø¯Ø±ÛŒØ§ÙØª Ø¨Ø±Ú†Ø³Ø¨ØŒ Ø¨Ø§ÛŒØ¯ Ø­Ø¯Ø§Ù‚Ù„ 90% Ø±Ø¶Ø§ÛŒØª Ù…Ø´ØªØ±ÛŒØ§Ù† Ø±Ø§ Ø­ÙØ¸ Ú©Ù†ÛŒØ¯.
        </div>
      `;
      break;
      
    case 'shaparak':
      content = `
        <h3>ğŸª™ Ø¢Ù…ÙˆØ²Ø´ Ø§Ø®Ø° Ø¨Ø±Ú†Ø³Ø¨ Ø´Ø§Ù¾Ø±Ú© (Ù†Ù…Ø§Ø¯ Ø§Ø¹ØªÙ…Ø§Ø¯ Ø§Ù„Ú©ØªØ±ÙˆÙ†ÛŒÚ©ÛŒ)</h3>
        
        <h4>ğŸ”¹ Ù…Ø¹Ø±ÙÛŒ Ù†Ù…Ø§Ø¯ Ø§Ø¹ØªÙ…Ø§Ø¯</h4>
        <p>Ù†Ù…Ø§Ø¯ Ø§Ø¹ØªÙ…Ø§Ø¯ Ø§Ù„Ú©ØªØ±ÙˆÙ†ÛŒÚ©ÛŒ (Ø§ÛŒÙ†Ù…Ø§Ø¯) ØªÙˆØ³Ø· Ù…Ø±Ú©Ø² ØªÙˆØ³Ø¹Ù‡ ØªØ¬Ø§Ø±Øª Ø§Ù„Ú©ØªØ±ÙˆÙ†ÛŒÚ©ÛŒ Ø§ÛŒØ±Ø§Ù† ØµØ§Ø¯Ø± Ù…ÛŒâ€ŒØ´ÙˆØ¯ Ùˆ Ø§Ø¹ØªØ¨Ø§Ø± Ø±Ø³Ù…ÛŒ ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ø´Ù…Ø§ Ø±Ø§ ØªØ£ÛŒÛŒØ¯ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.</p>
        
        <h4>ğŸ”¹ Ù…Ø¯Ø§Ø±Ú© Ù…ÙˆØ±Ø¯ Ù†ÛŒØ§Ø²</h4>
        <p><strong>Ø§Ø´Ø®Ø§Øµ Ø­Ù‚ÛŒÙ‚ÛŒ:</strong></p>
        <p>â€¢ Ú©Ù¾ÛŒ Ú©Ø§Ø±Øª Ù…Ù„ÛŒ</p>
        <p>â€¢ Ú©Ù¾ÛŒ Ù¾Ø±ÙˆØ§Ù†Ù‡ Ú©Ø³Ø¨</p>
        <p>â€¢ Ø§Ø¸Ù‡Ø§Ø±Ù†Ø§Ù…Ù‡ Ù…Ø§Ù„ÛŒØ§ØªÛŒ</p>
        <p>â€¢ ØªØ£ÛŒÛŒØ¯ Ø¢Ø¯Ø±Ø³ Ù…Ø­Ù„ Ú©Ø³Ø¨</p>
        
        <p><strong>Ø§Ø´Ø®Ø§Øµ Ø­Ù‚ÙˆÙ‚ÛŒ:</strong></p>
        <p>â€¢ Ú©Ù¾ÛŒ Ø§Ø³Ø§Ø³Ù†Ø§Ù…Ù‡</p>
        <p>â€¢ Ú¯ÙˆØ§Ù‡ÛŒÙ†Ø§Ù…Ù‡ Ø«Ø¨Øª Ø´Ø±Ú©Øª</p>
        <p>â€¢ Ú©Ø§Ø±Øª Ù…Ù„ÛŒ Ù…Ø¯ÛŒØ±Ø¹Ø§Ù…Ù„</p>
        <p>â€¢ ÙÛŒØ´ Ø¨Ø§Ù†Ú©ÛŒ Ø¢Ø®Ø±ÛŒÙ† ØªØ±Ø§Ú©Ù†Ø´</p>
        
        <h4>ğŸ”¹ Ù…Ø±Ø§Ø­Ù„ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…</h4>
        <p><strong>Ú¯Ø§Ù… 1:</strong> Ù…Ø±Ø§Ø¬Ø¹Ù‡ Ø¨Ù‡ Ø³Ø§ÛŒØª enamad.ir</p>
        <p><strong>Ú¯Ø§Ù… 2:</strong> Ø§Ù†ØªØ®Ø§Ø¨ "Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… ÙØ±ÙˆØ´Ú¯Ø§Ù‡"</p>
        <p><strong>Ú¯Ø§Ù… 3:</strong> ØªÚ©Ù…ÛŒÙ„ ÙØ±Ù… Ùˆ Ø¢Ù¾Ù„ÙˆØ¯ Ù…Ø¯Ø§Ø±Ú©</p>
        <p><strong>Ú¯Ø§Ù… 4:</strong> Ù¾Ø±Ø¯Ø§Ø®Øª Ù‡Ø²ÛŒÙ†Ù‡ (500 Ù‡Ø²Ø§Ø± ØªÙˆÙ…Ø§Ù† Ø³Ø§Ù„Ø§Ù†Ù‡)</p>
        <p><strong>Ú¯Ø§Ù… 5:</strong> Ø¨Ø±Ø±Ø³ÛŒ Ùˆ ØªØ£ÛŒÛŒØ¯ (7 ØªØ§ 14 Ø±ÙˆØ²)</p>
        
        <div style="background:#fff3cd; padding:15px; border-radius:8px; margin:15px 0">
          <strong>âš ï¸ ØªÙˆØ¬Ù‡:</strong> Ù†Ù…Ø§Ø¯ Ø¨Ø§ÛŒØ¯ Ø¯Ø± ØªÙ…Ø§Ù… ØµÙØ­Ø§Øª ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ù‚Ø§Ø¨Ù„ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø¨Ø§Ø´Ø¯ ØªØ§ Ù…Ø¹ØªØ¨Ø± Ù…Ø­Ø³ÙˆØ¨ Ø´ÙˆØ¯.
        </div>
        
        <h4>ğŸ”¹ Ù†Ú¯Ù‡Ø¯Ø§Ø±ÛŒ Ùˆ ØªÙ…Ø¯ÛŒØ¯</h4>
        <p>â€¢ Ø¨Ø§Ø²Ø¨ÛŒÙ†ÛŒ Ø³Ø§Ù„Ø§Ù†Ù‡ Ø§Ù„Ø²Ø§Ù…ÛŒ Ø§Ø³Øª</p>
        <p>â€¢ Ù¾Ø§Ø³Ø®Ú¯ÙˆÛŒÛŒ Ø¨Ù‡ Ø´Ú©Ø§ÛŒØ§Øª Ù…Ø´ØªØ±ÛŒØ§Ù†</p>
        <p>â€¢ Ø­ÙØ¸ Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯Ù‡Ø§ÛŒ Ú©ÛŒÙÛŒØª Ø®Ø¯Ù…Ø§Øª</p>
      `;
      break;
      
    case 'salesTechniques':
      content = `
        <h3>ğŸš€ ØªÚ©Ù†ÛŒÚ©â€ŒÙ‡Ø§ÛŒ ÙØ±ÙˆØ´ Ù…Ø¤Ø«Ø±</h3>
        
        <h4>ğŸ”¹ Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø¹Ù†ÙˆØ§Ù† Ù…Ø­ØµÙˆÙ„</h4>
        <p><strong>ÙØ±Ù…ÙˆÙ„ Ø·Ù„Ø§ÛŒÛŒ:</strong> Ø¨Ø±Ù†Ø¯ + Ù…Ø¯Ù„ + ÙˆÛŒÚ˜Ú¯ÛŒ Ø§ØµÙ„ÛŒ + Ú©Ù„Ù…Ù‡ Ú©Ù„ÛŒØ¯ÛŒ</p>
        <p><strong>Ù…Ø«Ø§Ù„:</strong> "Ú¯ÙˆØ´ÛŒ Ø³Ø§Ù…Ø³ÙˆÙ†Ú¯ S24 Ultra 512GB - Ø¯ÙˆØ±Ø¨ÛŒÙ† 200 Ù…Ú¯Ø§Ù¾ÛŒÚ©Ø³Ù„"</p>
        <p>â€¢ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ú©Ù„Ù…Ø§Øª Ú©Ù„ÛŒØ¯ÛŒ Ù¾Ø±Ø¬Ø³ØªØ¬Ùˆ</p>
        <p>â€¢ Ø§Ø¬ØªÙ†Ø§Ø¨ Ø§Ø² Ú©Ù„Ù…Ø§Øª Ø§Ø¶Ø§ÙÛŒ Ùˆ ØªÚ©Ø±Ø§Ø±ÛŒ</p>
        <p>â€¢ Ø°Ú©Ø± Ù…Ø´Ø®ØµØ§Øª Ù…Ù‡Ù… Ø¯Ø± Ø¹Ù†ÙˆØ§Ù†</p>
        
        <h4>ğŸ”¹ ØªØµØ§ÙˆÛŒØ± Ø¬Ø°Ø§Ø¨ Ùˆ Ø¨Ø§Ú©ÛŒÙÛŒØª</h4>
        <p>â€¢ Ø­Ø¯Ø§Ù‚Ù„ 5 Ø¹Ú©Ø³ Ø§Ø² Ø²ÙˆØ§ÛŒØ§ÛŒ Ù…Ø®ØªÙ„Ù</p>
        <p>â€¢ Ø±Ø²ÙˆÙ„ÙˆØ´Ù† Ø¨Ø§Ù„Ø§ (Ø­Ø¯Ø§Ù‚Ù„ 1000Ã—1000 Ù¾ÛŒÚ©Ø³Ù„)</p>
        <p>â€¢ Ù†ÙˆØ± Ø·Ø¨ÛŒØ¹ÛŒ Ùˆ Ù¾Ø³â€ŒØ²Ù…ÛŒÙ†Ù‡ Ø³ÙÛŒØ¯</p>
        <p>â€¢ Ø¹Ú©Ø³ Ù…Ø­ØµÙˆÙ„ Ø¯Ø± Ø­Ø§Ù„ Ø§Ø³ØªÙØ§Ø¯Ù‡</p>
        
        <h4>ğŸ”¹ Ù‚ÛŒÙ…Øªâ€ŒÚ¯Ø°Ø§Ø±ÛŒ Ø±ÙˆØ§Ù†Ø´Ù†Ø§Ø®ØªÛŒ</h4>
        <p><strong>ØªÚ©Ù†ÛŒÚ© Ù‚ÛŒÙ…Øª Ù¾Ù„Ù‡â€ŒØ§ÛŒ:</strong></p>
        <p>âŒ Ù‚ÛŒÙ…Øª Ù‚Ø¨Ù„ÛŒ: 2,000,000 ØªÙˆÙ…Ø§Ù†</p>
        <p>âœ… Ù‚ÛŒÙ…Øª ÙØ¹Ù„ÛŒ: 1,899,000 ØªÙˆÙ…Ø§Ù† (5% ØªØ®ÙÛŒÙ)</p>
        
        <p><strong>Ø§ÛŒØ¬Ø§Ø¯ Ø§Ø­Ø³Ø§Ø³ ÙÙˆØ±ÛŒØª:</strong></p>
        <p>â€¢ "ØªÙ†Ù‡Ø§ 3 Ø¹Ø¯Ø¯ Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡!"</p>
        <p>â€¢ "ØªØ®ÙÛŒÙ ÙˆÛŒÚ˜Ù‡ ØªØ§ Ù¾Ø§ÛŒØ§Ù† Ù‡ÙØªÙ‡"</p>
        <p>â€¢ "ÙØ±ÙˆØ´ ÙÙˆÙ‚â€ŒØ§Ù„Ø¹Ø§Ø¯Ù‡ - Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ù…Ø­Ø¯ÙˆØ¯"</p>
        
        <h4>ğŸ”¹ ØªÙˆØ¶ÛŒØ­Ø§Øª Ù…Ø­ØµÙˆÙ„ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ</h4>
        <p><strong>Ø³Ø§Ø®ØªØ§Ø± Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ:</strong></p>
        <p>1ï¸âƒ£ Ù…Ø¹Ø±ÙÛŒ Ú©ÙˆØªØ§Ù‡ Ù…Ø­ØµÙˆÙ„</p>
        <p>2ï¸âƒ£ ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ú©Ù„ÛŒØ¯ÛŒ (Ù†Ù‚Ø·Ù‡â€ŒØ§ÛŒ)</p>
        <p>3ï¸âƒ£ ÙÙˆØ§ÛŒØ¯ Ùˆ Ú©Ø§Ø±Ø¨Ø±Ø¯Ù‡Ø§</p>
        <p>4ï¸âƒ£ Ù…Ø´Ø®ØµØ§Øª ÙÙ†ÛŒ Ú©Ø§Ù…Ù„</p>
        <p>5ï¸âƒ£ Ø´Ø±Ø§ÛŒØ· Ú¯Ø§Ø±Ø§Ù†ØªÛŒ Ùˆ Ø§Ø±Ø³Ø§Ù„</p>
        
        <h4>ğŸ”¹ Ù…Ø¯ÛŒØ±ÛŒØª Ù†Ø¸Ø±Ø§Øª Ù…Ø´ØªØ±ÛŒØ§Ù†</h4>
        <p>â€¢ Ù¾Ø§Ø³Ø® Ø³Ø±ÛŒØ¹ Ø¨Ù‡ Ø³ÙˆØ§Ù„Ø§Øª (Ø­Ø¯Ø§Ú©Ø«Ø± 2 Ø³Ø§Ø¹Øª)</p>
        <p>â€¢ ØªØ´Ú©Ø± Ø§Ø² Ù†Ø¸Ø±Ø§Øª Ù…Ø«Ø¨Øª</p>
        <p>â€¢ Ø­Ù„ Ù…Ø³Ø§Ø¦Ù„ Ù†Ø¸Ø±Ø§Øª Ù…Ù†ÙÛŒ</p>
        <p>â€¢ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ù†Ø¸Ø± Ø§Ø² Ù…Ø´ØªØ±ÛŒØ§Ù† Ø±Ø§Ø¶ÛŒ</p>
        
        <div style="background:#d4edda; padding:15px; border-radius:8px; margin:15px 0">
          <strong>ğŸ¯ Ù†Ú©ØªÙ‡ Ú©Ù„ÛŒØ¯ÛŒ:</strong> Ù…Ø´ØªØ±ÛŒØ§Ù† 73% Ø¨ÛŒØ´ØªØ± Ø§Ø­ØªÙ…Ø§Ù„ Ø¯Ø§Ø±Ø¯ Ø§Ø² ÙØ±ÙˆØ´Ù†Ø¯Ú¯Ø§Ù†ÛŒ Ø®Ø±ÛŒØ¯ Ú©Ù†Ù†Ø¯ Ú©Ù‡ Ø¨Ù‡ Ø³ÙˆØ§Ù„Ø§ØªØ´Ø§Ù† Ù¾Ø§Ø³Ø® Ø¯Ø§Ø¯Ù‡â€ŒØ§Ù†Ø¯.
        </div>
        
        <h4>ğŸ”¹ Ø§Ø³ØªØ±Ø§ØªÚ˜ÛŒâ€ŒÙ‡Ø§ÛŒ ØªØ¨Ù„ÛŒØºØ§ØªÛŒ</h4>
        <p><strong>ØªØ¨Ù„ÛŒØºØ§Øª Ø¯Ø§Ø®Ù„ Ù¾Ù„ØªÙØ±Ù…:</strong></p>
        <p>â€¢ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² ØªØ¨Ù„ÛŒØºØ§Øª Ú©Ù„ÛŒÚ©ÛŒ</p>
        <p>â€¢ Ø´Ø±Ú©Øª Ø¯Ø± ÙØ±ÙˆØ´â€ŒÙ‡Ø§ÛŒ ÙˆÛŒÚ˜Ù‡</p>
        <p>â€¢ Ù‚Ø±Ø§Ø±Ú¯ÛŒØ±ÛŒ Ø¯Ø± Ø¨Ø®Ø´ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯Ø§Øª</p>
        
        <p><strong>Ø¨Ø§Ø²Ø§Ø±ÛŒØ§Ø¨ÛŒ Ø®Ø§Ø±Ø¬ÛŒ:</strong></p>
        <p>â€¢ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø§Ù†Ø§Ù„ ØªÙ„Ú¯Ø±Ø§Ù… ÙØ±ÙˆØ´Ú¯Ø§Ù‡</p>
        <p>â€¢ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø´Ø¨Ú©Ù‡â€ŒÙ‡Ø§ÛŒ Ø§Ø¬ØªÙ…Ø§Ø¹ÛŒ</p>
        <p>â€¢ Ù‡Ù…Ú©Ø§Ø±ÛŒ Ø¨Ø§ Ø§ÛŒÙ†ÙÙ„ÙˆØ¦Ù†Ø³Ø±Ù‡Ø§</p>
        
        <h4>ğŸ”¹ Ø®Ø¯Ù…Ø§Øª Ù¾Ø³ Ø§Ø² ÙØ±ÙˆØ´</h4>
        <p>â€¢ Ù¾ÛŒÚ¯ÛŒØ±ÛŒ Ø±Ø¶Ø§ÛŒØª Ù…Ø´ØªØ±ÛŒ</p>
        <p>â€¢ Ø§Ø±Ø§Ø¦Ù‡ Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡</p>
        <p>â€¢ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ ÙÙ†ÛŒ Ù…Ø­ØµÙˆÙ„Ø§Øª</p>
        <p>â€¢ Ø§Ø·Ù„Ø§Ø¹â€ŒØ±Ø³Ø§Ù†ÛŒ Ù…Ø­ØµÙˆÙ„Ø§Øª Ø¬Ø¯ÛŒØ¯</p>
      `;
      break;
  }
  
  contentDiv.innerHTML = content;
  showSection('trainingContent');
}

function showSection(id){
  ['shop','cart','myorders','customer','seller','admin','courier','salesTraining','trainingContent'].forEach(s=>document.getElementById(s).style.display='none');
  document.getElementById(id).style.display='block';
  document.querySelectorAll('.nav-tab').forEach(tab => tab.classList.remove('active'));
  if(id === 'shop') {
    document.querySelector('.nav-tab').classList.add('active');
  }
  if(['customer','seller','admin','courier'].includes(id)) {
    state.currentPanel = id;
  }
  const ordersIcon = document.getElementById('ordersIcon');
  const cartIcon = document.getElementById('cartIcon');
  const balanceDiv = document.getElementById('balanceDiv');
  const trainingIcon = document.getElementById('trainingIcon');
  
  if(state.currentPanel === 'customer') {
    ordersIcon.style.display = 'block';
    cartIcon.style.display = 'block';
    balanceDiv.style.display = 'block';
    trainingIcon.style.display = 'none';
  } else if(state.currentPanel === 'seller') {
    ordersIcon.style.display = 'none';
    cartIcon.style.display = 'none';
    balanceDiv.style.display = 'none';
    trainingIcon.style.display = 'block';
  } else {
    ordersIcon.style.display = 'none';
    cartIcon.style.display = 'none';
    balanceDiv.style.display = 'none';
    trainingIcon.style.display = 'none';
  }
}

function openPanel(id){
  showSection(id);
  state.currentPanel = id;
  const panelTitle = document.getElementById('panelTitle');
  const userDisplayName = document.getElementById('userDisplayName');
  const panelNames = {'customer': 'Ù…Ø´ØªØ±ÛŒ','seller': 'ÙØ±ÙˆØ´Ù†Ø¯Ù‡','admin': 'Ù…Ø¯ÛŒØ±ÛŒØª','courier': 'Ù¾ÛŒÚ©'};
  const userNames = {'customer': 'Ù¾Ø§Ø±Ø³Ø§ Ø³Ø®Ù† Ø³Ù†Ø¬','seller': 'ØªÚ© Ø§Ø³ØªØ§Ø±','admin': 'Ù…Ø±ÛŒÙ… ØµÙÙˆÛŒ','courier': 'Ø§Ø­Ù…Ø¯ Ù†ÙˆØ±ÛŒ'};
  panelTitle.textContent = `ğŸ‘¤ Ù¾Ù†Ù„ Ù…Ù† (${panelNames[id]}) â–¾`;
  userDisplayName.textContent = userNames[id];
  
  const ordersIcon = document.getElementById('ordersIcon');
  const cartIcon = document.getElementById('cartIcon');
  const balanceDiv = document.getElementById('balanceDiv');
  const trainingIcon = document.getElementById('trainingIcon');
  
  if(id === 'customer') {
    ordersIcon.style.display = 'block';
    cartIcon.style.display = 'block';
    balanceDiv.style.display = 'block';
    trainingIcon.style.display = 'none';
  } else if(id === 'seller') {
    ordersIcon.style.display = 'none';
    cartIcon.style.display = 'none';
    balanceDiv.style.display = 'none';
    trainingIcon.style.display = 'block';
    updateTrainingNotifications();
  } else {
    ordersIcon.style.display = 'none';
    cartIcon.style.display = 'none';
    balanceDiv.style.display = 'none';
    trainingIcon.style.display = 'none';
  }
}

document.addEventListener('click',e=>{if(!e.target.closest('.panel-dropdown'))document.getElementById('panelMenu').classList.remove('show')});
document.querySelector('.panel-dropdown').onclick=function(e){document.getElementById('panelMenu').classList.toggle('show')}

document.addEventListener('DOMContentLoaded',()=>{
  document.getElementById('userBalance').textContent=fmt(state.balance);
  loadProducts();
  renderAdmin();
  renderCourier();
  renderAdminCourierStatus();
  updateMyOrders();
  state.currentPanel = 'customer';
  document.getElementById('panelTitle').textContent = 'ğŸ‘¤ Ù¾Ù†Ù„ Ù…Ù† (Ù…Ø´ØªØ±ÛŒ) â–¾';
  document.getElementById('ordersIcon').style.display = 'block';
  document.getElementById('cartIcon').style.display = 'block';
  document.getElementById('balanceDiv').style.display = 'block';
  document.getElementById('trainingIcon').style.display = 'none';
  updateTrainingNotifications();
  showSection('shop');
});

function loadProducts(){
  const grid=document.getElementById('productsGrid');
  grid.innerHTML='';
  state.products.forEach(p=>{
    const d=document.createElement('div');
    d.className='product-card';
    
    // Generate custom star rating
    const fullStars = Math.floor(p.rating);
    const hasHalfStar = p.rating % 1 >= 0.5;
    const emptyStars = 5 - fullStars - (hasHalfStar ? 1 : 0);
    
    let starsHTML = '';
    
    // Full stars
    for(let i = 0; i < fullStars; i++) {
      starsHTML += `<span class="star filled">
        <svg viewBox="0 0 24 24">
          <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/>
        </svg>
      </span>`;
    }
    
    // Half star
    if(hasHalfStar) {
      starsHTML += `<span class="star half-filled">
        <svg viewBox="0 0 24 24">
          <defs>
            <linearGradient id="halfGradient${p.id}">
              <stop offset="50%" stop-color="#ffc107"/>
              <stop offset="50%" stop-color="#ddd"/>
            </linearGradient>
          </defs>
          <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z" fill="url(#halfGradient${p.id})"/>
        </svg>
      </span>`;
    }
    
    // Empty stars
    for(let i = 0; i < emptyStars; i++) {
      starsHTML += `<span class="star">
        <svg viewBox="0 0 24 24">
          <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/>
        </svg>
      </span>`;
    }
    
    d.innerHTML=`
      <div class="product-image">${p.img}</div>
      <div class="product-title">${p.name}</div>
      <div class="product-price">${fmt(p.price)} ØªÙˆÙ…Ø§Ù†</div>
      <div class="rating-section">
        <div class="stars">${starsHTML}</div>
        <div class="rating-text">${p.rating} (${p.reviewCount} Ù†Ø¸Ø±)</div>
      </div>
      <div class="seller-info">
        <div><strong>ÙØ±ÙˆØ´Ù†Ø¯Ù‡:</strong> ${p.seller}</div>
      </div>
      <div style="margin-top: auto;">
        <div style="display: flex; gap: 8px; margin-bottom: 10px;">
          ${p.trusted ? `
            <div class="trust-badge verified" style="flex: 1; text-align: center; display: flex; align-items: center; justify-content: center;">âœ… ÙØ±ÙˆØ´Ù†Ø¯Ù‡ Ù…Ø¹ØªØ¨Ø±</div>
            <button class='btn btn-warning' onclick='viewProduct(${p.id})' style="flex: 1; padding: 8px; font-size: 0.85rem;">
              Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø¬Ø²Ø¦ÛŒØ§Øª
            </button>
          ` : `
            <button class='btn btn-warning' onclick='viewProduct(${p.id})' style="width: 100%; padding: 8px; font-size: 0.85rem;">
              Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø¬Ø²Ø¦ÛŒØ§Øª
            </button>
          `}
        </div>
        <button class='btn btn-success' onclick='addToCart(${p.id})' style="width: 100%; padding: 10px; font-size: 1.05rem;">
          ğŸ›’ Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ù‡ Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯
        </button>
      </div>
    `;
    grid.appendChild(d);
  });
}

function viewProduct(id){
  const p=state.products.find(x=>x.id===id);
  if(!p)return;
  
  // Parse specifications from description
  const descParts = p.desc.split('\n');
  const mainDesc = descParts[0];
  const specs = descParts[1] ? descParts[1].replace('ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§: ', '') : '';
  
  const c=document.getElementById('modalContent');
  c.innerHTML=`
    <div class="product-details">
      <div class="product-detail-image">${p.img}</div>
      
      <div class="product-info">
        <h2 style="color:#333;margin:0 0 10px 0;font-size:1.3rem;line-height:1.3">${p.name}</h2>
        
        <div class="price-section">
          <div style="font-size:1.5rem;font-weight:800;color:#27ae60;margin-bottom:2px">${fmt(p.price)} ØªÙˆÙ…Ø§Ù†</div>
          <div style="font-size:0.8rem;color:#666">Ù‚ÛŒÙ…Øª Ù†Ù‡Ø§ÛŒÛŒ Ø´Ø§Ù…Ù„ Ù…Ø§Ù„ÛŒØ§Øª</div>
        </div>
        
        <div class="seller-badge">
          <span>ÙØ±ÙˆØ´Ù†Ø¯Ù‡: ${p.seller}</span>
          ${p.trusted ? '<span style="margin-right:6px">âœ…</span>' : ''}
        </div>
        
        <div style="margin:12px 0">
          <h4 style="color:#333;margin:0 0 6px 0;font-size:1rem">ØªÙˆØ¶ÛŒØ­Ø§Øª Ù…Ø­ØµÙˆÙ„:</h4>
          <p style="color:#666;line-height:1.5;margin:0;font-size:0.9rem">${mainDesc}</p>
        </div>
        
        ${specs ? `
          <div class="product-specs">
            <h4 style="color:#333;margin:0 0 10px 0;font-size:1rem">Ù…Ø´Ø®ØµØ§Øª ÙÙ†ÛŒ:</h4>
            ${specs.split('ØŒ ').map(spec => {
              const [label, value] = spec.split(': ');
              return `<div class="spec-item">
                <span class="spec-label">${label}:</span>
                <span style="color:#666">${value || label}</span>
              </div>`;
            }).join('')}
          </div>
        ` : ''}
        
        <div style="background:#e8f4f8;padding:12px;border-radius:6px;margin:12px 0">
          <h4 style="color:#333;margin:0 0 6px 0;font-size:0.95rem">ğŸ›¡ï¸ ØªØ¶Ù…ÛŒÙ†â€ŒÙ‡Ø§ÛŒ Ø®Ø±ÛŒØ¯:</h4>
          <ul style="margin:0;padding-right:16px;color:#666;font-size:0.85rem;line-height:1.4">
            <li>Ù¾Ø±Ø¯Ø§Ø®Øª Ø§Ù…Ù† Ø¨Ø§ Ø³ÛŒØ³ØªÙ… Ø§Ù…Ø§Ù†Øª</li>
            <li>Ù…Ø±Ø¬ÙˆØ¹ÛŒ 14 Ø±ÙˆØ²Ù‡ Ø¨Ø¯ÙˆÙ† Ù‚ÛŒØ¯ Ùˆ Ø´Ø±Ø·</li>
            <li>Ø¶Ù…Ø§Ù†Øª Ø§ØµØ§Ù„Øª Ú©Ø§Ù„Ø§</li>
            <li>Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ 24/7</li>
          </ul>
        </div>
        
        <div style="display:flex;gap:10px;margin-top:16px">
          <button class='btn btn-success' onclick='buyNow(${p.id})' style="flex:2;padding:12px;font-size:1rem;border-radius:6px">
            ğŸ’³ Ø®Ø±ÛŒØ¯ Ø§Ù…Ù†
          </button>
          <button class='btn btn-primary' onclick='explainEscrow()' style="flex:1;padding:12px;font-size:0.9rem;border-radius:6px">
            Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨ÛŒØ´ØªØ±
          </button>
        </div>
      </div>
    </div>
  `;
  openModal();
}

function buyNow(id){
  const p=state.products.find(x=>x.id===id);
  if(!p)return;
  if(state.balance >= p.price) {
    state.balance -= p.price;
    document.getElementById('userBalance').textContent = fmt(state.balance);
    state.myOrders.push({...p, qty:1, returned:false, purchased:true, orderDate: new Date().toLocaleDateString('fa-IR')});
    updateMyOrders();
    const c = document.getElementById('modalContent');
    c.innerHTML = `
      <h3>âœ… Ø®Ø±ÛŒØ¯ Ù…ÙˆÙÙ‚</h3>
      <p>Ø®Ø±ÛŒØ¯ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯!</p>
      <p><strong>Ù…Ø­ØµÙˆÙ„:</strong> ${p.name}</p>
      <p><strong>Ù…Ø¨Ù„Øº:</strong> ${fmt(p.price)} ØªÙˆÙ…Ø§Ù†</p>
      <p><strong>Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø¬Ø¯ÛŒØ¯:</strong> ${fmt(state.balance)} ØªÙˆÙ…Ø§Ù†</p>
      <p>Ù…Ø­ØµÙˆÙ„ Ø¨Ù‡ Ø³ÙØ§Ø±Ø´Ø§Øª Ø´Ù…Ø§ Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯.</p>
      <button class='btn btn-primary' onclick='closeModal()'>ØªØ§ÛŒÛŒØ¯</button>
    `;
    openModal();
  } else {
    const c = document.getElementById('modalContent');
    c.innerHTML = `
      <h3>âŒ Ø®Ø·Ø§</h3>
      <p>Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª!</p>
      <p><strong>Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø´Ù…Ø§:</strong> ${fmt(state.balance)} ØªÙˆÙ…Ø§Ù†</p>
      <p><strong>Ù‚ÛŒÙ…Øª Ù…Ø­ØµÙˆÙ„:</strong> ${fmt(p.price)} ØªÙˆÙ…Ø§Ù†</p>
      <p><strong>Ú©Ù…Ø¨ÙˆØ¯:</strong> ${fmt(p.price - state.balance)} ØªÙˆÙ…Ø§Ù†</p>
      <button class='btn btn-primary' onclick='closeModal()'>ØªØ§ÛŒÛŒØ¯</button>
    `;
    openModal();
  }
}

function explainEscrow(){
  const c = document.getElementById('modalContent');
  c.innerHTML = `
    <h3>ğŸ›¡ï¸ Ù¾Ø±Ø¯Ø§Ø®Øª Ø§Ù…Ù†</h3>
    <p><strong>Ú†Ú¯ÙˆÙ†Ù‡ Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯ØŸ</strong></p>
    <p>â€¢ Ù¾ÙˆÙ„ Ø´Ù…Ø§ Ø¯Ø± Ø§Ù…Ø§Ù†Øª Ù†Ú¯Ù‡ Ø¯Ø§Ø±ÛŒ Ù…ÛŒâ€ŒØ´ÙˆØ¯</p>
    <p>â€¢ ØªØ§ Ø²Ù…Ø§Ù† ØªØ§ÛŒÛŒØ¯ Ø¯Ø±ÛŒØ§ÙØª Ú©Ø§Ù„Ø§ØŒ Ù¾ÙˆÙ„ Ø¨Ù‡ ÙØ±ÙˆØ´Ù†Ø¯Ù‡ Ù¾Ø±Ø¯Ø§Ø®Øª Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯</p>
    <p>â€¢ Ø¯Ø± ØµÙˆØ±Øª Ø¹Ø¯Ù… Ø±Ø¶Ø§ÛŒØªØŒ Ø§Ù…Ú©Ø§Ù† Ù…Ø±Ø¬ÙˆØ¹ Ú©Ø§Ù„Ø§ ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ø¯</p>
    <p>â€¢ Ø§Ù…Ù†ÛŒØª Ú©Ø§Ù…Ù„ Ø¨Ø±Ø§ÛŒ Ø®Ø±ÛŒØ¯Ø§Ø± Ùˆ ÙØ±ÙˆØ´Ù†Ø¯Ù‡</p>
    <button class='btn btn-primary' onclick='closeModal()'>Ù…ØªÙˆØ¬Ù‡ Ø´Ø¯Ù…</button>
  `;
  openModal();
}

function addToCart(id){
  const p=state.products.find(x=>x.id===id);
  if(!p)return;
  state.cart.push({...p,qty:1,returned:false,purchased:false});
  updateCart();
  
  // Ù†Ù…Ø§ÛŒØ´ Ù¾Ø§Ù¾â€ŒØ¢Ù¾ ØªØ§ÛŒÛŒØ¯
  const c = document.getElementById('modalContent');
  c.innerHTML = `
    <h3>âœ… Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ù‡ Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯</h3>
    <p>Ù…Ø­ØµÙˆÙ„ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¨Ù‡ Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ Ø´Ù…Ø§ Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯!</p>
    <p><strong>Ù…Ø­ØµÙˆÙ„:</strong> ${p.name}</p>
    <p><strong>Ù‚ÛŒÙ…Øª:</strong> ${fmt(p.price)} ØªÙˆÙ…Ø§Ù†</p>
    <p><strong>ÙØ±ÙˆØ´Ù†Ø¯Ù‡:</strong> ${p.seller}</p>
    <p>Ø¨Ø±Ø§ÛŒ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ØŒ Ø±ÙˆÛŒ Ø¢ÛŒÚ©ÙˆÙ† Ø³Ø¨Ø¯ Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯.</p>
    <button class='btn btn-primary' onclick='closeModal()'>ØªØ§ÛŒÛŒØ¯</button>
  `;
  openModal();
}

function updateCart(){
  const el=document.getElementById('cartItems');
  if(state.cart.length===0){
    el.textContent='Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ Ø®Ø§Ù„ÛŒ Ø§Ø³Øª.';
    document.getElementById('cartBadge').style.display='none';
    document.getElementById('cartBadge').textContent='0';
    return;
  }
  let html='';
  let total=0;
  state.cart.forEach((c,i)=>{
    if(!c.purchased) {
      total+=c.price*c.qty;
      html+=`<div class='order-item'><div>${c.name} - ${fmt(c.price)} ØªÙˆÙ…Ø§Ù†</div><div><button class='btn btn-success' onclick='purchaseItem(${i})'>Ù¾Ø±Ø¯Ø§Ø®Øª Ø§Ù…Ù†</button><button class='btn btn-secondary' onclick='removeFromCart(${i})'>Ø­Ø°Ù Ø§Ø² Ø³Ø¨Ø¯</button></div></div>`;
    }
  });
  if(html === '') {
    html = 'ØªÙ…Ø§Ù… Ú©Ø§Ù„Ø§Ù‡Ø§ Ø®Ø±ÛŒØ¯Ø§Ø±ÛŒ Ø´Ø¯Ù‡â€ŒØ§Ù†Ø¯.';
  } else {
    html+=`<strong>Ø¬Ù…Ø¹: ${fmt(total)} ØªÙˆÙ…Ø§Ù†</strong>`;
  }
  el.innerHTML=html;
  const badge = document.getElementById('cartBadge');
  const pendingCount = state.cart.filter(c=>!c.purchased).length;
  if(pendingCount>0){
    badge.style.display='inline-block';
    badge.textContent=pendingCount;
  } else {
    badge.style.display='none';
    badge.textContent='0';
  }
}

function purchaseItem(i) {
  const item = state.cart[i];
  if(!item) return;
  if(state.balance >= item.price) {
    state.balance -= item.price;
    document.getElementById('userBalance').textContent = fmt(state.balance);
    state.cart[i].purchased = true;
    state.myOrders.push({...item, orderDate: new Date().toLocaleDateString('fa-IR')});
    updateCart();
    updateMyOrders();
    const c = document.getElementById('modalContent');
    c.innerHTML = `
      <h3>âœ… Ø®Ø±ÛŒØ¯ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯</h3>
      <p>Ù…Ø­ØµÙˆÙ„ <strong>${item.name}</strong> Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø®Ø±ÛŒØ¯Ø§Ø±ÛŒ Ø´Ø¯.</p>
      <p><strong>Ù…Ø¨Ù„Øº Ù¾Ø±Ø¯Ø§Ø®ØªÛŒ:</strong> ${fmt(item.price)} ØªÙˆÙ…Ø§Ù†</p>
      <p><strong>Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø¨Ø§Ù‚ÛŒÙ…Ø§Ù†Ø¯Ù‡:</strong> ${fmt(state.balance)} ØªÙˆÙ…Ø§Ù†</p>
      <p>Ø³ÙØ§Ø±Ø´ Ø¨Ù‡ Ù„ÛŒØ³Øª Ø³ÙØ§Ø±Ø´â€ŒÙ‡Ø§ÛŒ Ø´Ù…Ø§ Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯.</p>
      <button class='btn btn-primary' onclick='closeModal()'>ØªØ§ÛŒÛŒØ¯</button>
    `;
    openModal();
  } else {
    const c = document.getElementById('modalContent');
    c.innerHTML = `
      <h3>âŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª</h3>
      <p>Ù…ÙˆØ¬ÙˆØ¯ÛŒ ÙØ¹Ù„ÛŒ Ø´Ù…Ø§: <strong>${fmt(state.balance)} ØªÙˆÙ…Ø§Ù†</strong></p>
      <p>Ù‚ÛŒÙ…Øª Ù…Ø­ØµÙˆÙ„: <strong>${fmt(item.price)} ØªÙˆÙ…Ø§Ù†</strong></p>
      <p>Ú©Ù…Ø¨ÙˆØ¯: <strong>${fmt(item.price - state.balance)} ØªÙˆÙ…Ø§Ù†</strong></p>
      <p>Ù„Ø·ÙØ§Ù‹ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø±Ø§ Ø§ÙØ²Ø§ÛŒØ´ Ø¯Ù‡ÛŒØ¯ ÛŒØ§ Ù…Ø­ØµÙˆÙ„ Ø¯ÛŒÚ¯Ø±ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯.</p>
      <button class='btn btn-primary' onclick='closeModal()'>ØªØ§ÛŒÛŒØ¯</button>
    `;
    openModal();
  }
}

function updateMyOrders() {
  const el = document.getElementById('myOrdersList');
  if(state.myOrders.length === 0) {
    el.textContent = 'Ù‡Ù†ÙˆØ² Ø³ÙØ§Ø±Ø´ÛŒ Ù†Ø¯Ø§Ø±ÛŒØ¯.';
    return;
  }
  let html = '';
  state.myOrders.forEach((order, i) => {
    html += `<div class='order-item'>
      <div>${order.name} - ${fmt(order.price)} ØªÙˆÙ…Ø§Ù† - ${order.orderDate}</div>
      ${!order.returned ? `<button class='btn btn-warning' onclick='returnOrder(${i})'>Ù…Ø±Ø¬ÙˆØ¹ Ú©Ø§Ù„Ø§</button>` : '<span class="returned">âœ“ Ù…Ø±Ø¬ÙˆØ¹ Ø´Ø¯Ù‡</span>'}
    </div>`;
  });
  el.innerHTML = html;
}

function returnOrder(i) {
  const returnedItem = state.myOrders[i];
  if(!returnedItem.returned) {
    const oldBalance = state.balance;
    state.balance += returnedItem.price;
    document.getElementById('userBalance').textContent = fmt(state.balance);
    state.myOrders[i].returned = true;
    state.returns[2] = {
      customer: 'Ù¾Ø§Ø±Ø³Ø§ Ø³Ø®Ù† Ø³Ù†Ø¬',
      shop: returnedItem.seller,
      productCode: `PS-${returnedItem.id === 1 ? 'A' : 'B'}1244722237834`,
      status: 'âœ“ Ù…Ø±Ø¬ÙˆØ¹ Ø´Ø¯Ù‡ Ùˆ Ù…Ø¨Ù„Øº Ø¨Ø§Ø²Ú¯Ø±Ø¯Ø§Ù†Ø¯Ù‡ Ø´Ø¯'
    };
    const c = document.getElementById('modalContent');
    c.innerHTML = `
      <h3>âœ… Ù…Ø±Ø¬ÙˆØ¹ÛŒ Ù…ÙˆÙÙ‚</h3>
      <p>Ù…Ø±Ø¬ÙˆØ¹ÛŒ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯!</p>
      <p><strong>Ù…Ø­ØµÙˆÙ„:</strong> ${returnedItem.name}</p>
      <p><strong>Ù…Ø¨Ù„Øº Ø¨Ø§Ø²Ú¯Ø´ØªÛŒ:</strong> ${fmt(returnedItem.price)} ØªÙˆÙ…Ø§Ù†</p>
      <p><strong>Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ù‚Ø¨Ù„ÛŒ:</strong> ${fmt(oldBalance)} ØªÙˆÙ…Ø§Ù†</p>
      <p><strong>Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø¬Ø¯ÛŒØ¯:</strong> ${fmt(state.balance)} ØªÙˆÙ…Ø§Ù†</p>
      <p>Ù…Ø¨Ù„Øº Ø¨Ù‡ Ø­Ø³Ø§Ø¨ Ø´Ù…Ø§ Ø¨Ø§Ø²Ú¯Ø±Ø¯Ø§Ù†Ø¯Ù‡ Ø´Ø¯.</p>
      <p><small>Ø´Ù…Ø§ ØªØ§ 14 Ø±ÙˆØ² ÙØ±ØµØª Ù…Ø±Ø¬ÙˆØ¹ÛŒ Ø¯Ø§Ø±ÛŒØ¯.</small></p>
      <button class='btn btn-primary' onclick='closeModal()'>ØªØ§ÛŒÛŒØ¯</button>
    `;
    openModal();
    updateMyOrders();
    renderReturns();
  }
}

function removeFromCart(i) {
  const item = state.cart[i];
  const c = document.getElementById('modalContent');
  c.innerHTML = `
    <h3>â“ Ø­Ø°Ù Ø§Ø² Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯</h3>
    <p>Ø¢ÛŒØ§ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ Ú©Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø§ÛŒÙ† Ù…Ø­ØµÙˆÙ„ Ø±Ø§ Ø§Ø² Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ Ø­Ø°Ù Ú©Ù†ÛŒØ¯ØŸ</p>
    <p><strong>Ù…Ø­ØµÙˆÙ„:</strong> ${item.name}</p>
    <p><strong>Ù‚ÛŒÙ…Øª:</strong> ${fmt(item.price)} ØªÙˆÙ…Ø§Ù†</p>
    <div style="margin-top: 15px;">
      <button class='btn btn-warning' onclick='confirmRemoveFromCart(${i})'>Ø¨Ù„Ù‡ØŒ Ø­Ø°Ù Ú©Ù†</button>
      <button class='btn btn-secondary' onclick='closeModal()'>Ù„ØºÙˆ</button>
    </div>
  `;
  openModal();
}

function confirmRemoveFromCart(i) {
  state.cart.splice(i, 1);
  updateCart();
  closeModal();
}

function requestTrustBadge(){
  document.getElementById('sellerStatus').innerHTML='ÙˆØ¶Ø¹ÛŒØª: ØªØ§ÛŒÛŒØ¯ Ø´Ø¯Ù‡ <span class="tick-green">âœ“</span>';
  state.sellers[1].status = 'ØªØ§ÛŒÛŒØ¯ Ø´Ø¯Ù‡ âœ…';
  
  // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ ÙˆØ¶Ø¹ÛŒØª Ø§Ø¹ØªÙ…Ø§Ø¯ Ù…Ø­ØµÙˆÙ„Ø§Øª ØªÚ© Ø§Ø³ØªØ§Ø±
  state.products.forEach(product => {
    if(product.seller === 'ØªÚ© Ø§Ø³ØªØ§Ø±') {
      product.trusted = true;
    }
  });
  
  // Ø¨Ø§Ø²Ø®ÙˆØ§Ù†ÛŒ Ù…Ø­ØµÙˆÙ„Ø§Øª Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ ØªØºÛŒÛŒØ±Ø§Øª
  loadProducts();
  renderAdmin();
  
  const c = document.getElementById('modalContent');
  c.innerHTML = `
    <h3>âœ… Ø¨Ø±Ú†Ø³Ø¨ Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¯Ø±ÛŒØ§ÙØª Ø´Ø¯</h3>
    <p>Ù¾Ø±Ø¯Ø§Ø®Øª Ø¶Ù…Ø§Ù†Øª Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯!</p>
    <p>Ø¨Ø±Ú†Ø³Ø¨ Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¯ÛŒØ¬ÛŒ Ú©Ø§Ù„Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¯Ø±ÛŒØ§ÙØª Ú¯Ø±Ø¯ÛŒØ¯.</p>
    <p><strong>Ù…Ø²Ø§ÛŒØ§:</strong></p>
    <p>â€¢ Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¨ÛŒØ´ØªØ± Ù…Ø´ØªØ±ÛŒØ§Ù†</p>
    <p>â€¢ Ø§ÙØ²Ø§ÛŒØ´ ÙØ±ÙˆØ´</p>
    <p>â€¢ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø± Ù†ØªØ§ÛŒØ¬ Ø¨Ø±ØªØ±</p>
    <p>â€¢ Ù…Ø­ØµÙˆÙ„Ø§Øª Ø´Ù…Ø§ Ø­Ø§Ù„Ø§ Ø¨Ø§ Ø¨Ø±Ú†Ø³Ø¨ "âœ… ÙØ±ÙˆØ´Ù†Ø¯Ù‡ Ù…Ø¹ØªØ¨Ø±" Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯</p>
    <button class='btn btn-primary' onclick='closeModal()'>Ø¹Ø§Ù„ÛŒ</button>
  `;
  openModal();
}

function renderAdmin(){
  const el=document.getElementById('adminSellers');
  el.innerHTML='';
  state.sellers.forEach((s,i)=>{
    let statusHtml = '';
    if(s.status.includes('âœ…')) {
      statusHtml = '<span class="tick-green">âœ“</span> ' + s.status;
    } else if(s.status === 'Ø¯Ø± Ø­Ø§Ù„ Ø§Ù†ØªØ¸Ø§Ø±') {
      statusHtml = s.status + ' <button class="btn btn-success" onclick="approveSeller('+i+')">ØªØ§ÛŒÛŒØ¯</button>';
    } else {
      statusHtml = s.status;
    }
    el.innerHTML+=`<div class='seller-row'><div>${s.name}</div><div>${statusHtml}</div></div>`;
  });
  renderAdminCourierStatus();
  renderReturns();
}

function renderAdminCourierStatus(){
  const el=document.getElementById('adminCourierStatus');
  let html = '<div class="delivery-table">';
  html += '<div class="return-header">Ù…Ø´ØªØ±ÛŒ</div>';
  html += '<div class="return-header">Ù†Ø§Ù… Ù…ØºØ§Ø²Ù‡</div>';
  html += '<div class="return-header">Ú©Ø¯ Ú©Ø§Ù„Ø§</div>';
  html += '<div class="return-header">Ù†Ø§Ù… Ù¾ÛŒÚ©</div>';
  html += '<div class="return-header">ÙˆØ¶Ø¹ÛŒØª</div>';
  state.couriers.forEach(c=>{
    html += '<div class="return-cell">'+c.customer+'</div>';
    html += '<div class="return-cell">'+c.shop+'</div>';
    html += '<div class="return-cell">'+c.productCode+'</div>';
    html += '<div class="return-cell">'+c.courierName+'</div>';
    html += '<div class="return-cell">'+(c.delivered ? '<span class="tick-green">âœ“</span> ' + c.status : c.status)+'</div>';
  });
  html += '</div>';
  el.innerHTML = html;
}

function approveSeller(i) {
  state.sellers[i].status = 'ØªØ§ÛŒÛŒØ¯ Ø´Ø¯Ù‡ âœ…';
  
  // Ø§Ú¯Ø± ÙØ±ÙˆØ´Ù†Ø¯Ù‡ ØªÚ© Ø§Ø³ØªØ§Ø± Ø§Ø³ØªØŒ Ù…Ø­ØµÙˆÙ„Ø§ØªØ´ Ø±Ø§ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ú©Ù†
  if(state.sellers[i].name === 'ØªÚ© Ø§Ø³ØªØ§Ø±') {
    state.products.forEach(product => {
      if(product.seller === 'ØªÚ© Ø§Ø³ØªØ§Ø±') {
        product.trusted = true;
      }
    });
    loadProducts(); // Ø¨Ø§Ø²Ø®ÙˆØ§Ù†ÛŒ Ù…Ø­ØµÙˆÙ„Ø§Øª
  }
  
  renderAdmin();
  const c = document.getElementById('modalContent');
  c.innerHTML = `
    <h3>âœ… ÙØ±ÙˆØ´Ù†Ø¯Ù‡ ØªØ§ÛŒÛŒØ¯ Ø´Ø¯</h3>
    <p>ÙØ±ÙˆØ´Ù†Ø¯Ù‡ <strong>${state.sellers[i].name}</strong> Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª ØªØ§ÛŒÛŒØ¯ Ø´Ø¯.</p>
    <p>Ø­Ø§Ù„Ø§ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø§Ø² Ø¨Ø±Ú†Ø³Ø¨ Ø§Ø¹ØªÙ…Ø§Ø¯ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†Ø¯.</p>
    ${state.sellers[i].name === 'ØªÚ© Ø§Ø³ØªØ§Ø±' ? '<p>Ù…Ø­ØµÙˆÙ„Ø§Øª Ø§ÛŒÙ† ÙØ±ÙˆØ´Ù†Ø¯Ù‡ Ø­Ø§Ù„Ø§ Ø¨Ø§ Ø¨Ø±Ú†Ø³Ø¨ "âœ… ÙØ±ÙˆØ´Ù†Ø¯Ù‡ Ù…Ø¹ØªØ¨Ø±" Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯.</p>' : ''}
    <button class='btn btn-primary' onclick='closeModal()'>ØªØ§ÛŒÛŒØ¯</button>
  `;
  openModal();
}

function renderReturns(){
  const el=document.getElementById('returnStatus');
  let html = '<div class="return-table">';
  html += '<div class="return-header">Ù…Ø±Ø¬ÙˆØ¹ Ú©Ù†Ù†Ø¯Ù‡</div>';
  html += '<div class="return-header">Ù†Ø§Ù… Ù…ØºØ§Ø²Ù‡</div>';
  html += '<div class="return-header">Ú©Ø¯ Ú©Ø§Ù„Ø§</div>';
  html += '<div class="return-header">ÙˆØ¶Ø¹ÛŒØª</div>';
  state.returns.forEach(r=>{
    html += '<div class="return-cell">'+r.customer+'</div>';
    html += '<div class="return-cell">'+r.shop+'</div>';
    html += '<div class="return-cell">'+r.productCode+'</div>';
    html += '<div class="return-cell">'+r.status+'</div>';
  });
  html += '</div>';
  el.innerHTML = html;
}

function renderCourier(){
  const el=document.getElementById('courierList');
  el.innerHTML='';
  state.couriers.forEach((c,i)=>{
    const displayStatus = c.delivered ? c.status : 'Ø¯Ø± Ø­Ø§Ù„ Ø§Ù†ØªÙ‚Ø§Ù„ Ú©Ø§Ù„Ø§';
    el.innerHTML+=`<div class='courier-row'><div>${c.order}</div><div>${displayStatus}</div>${c.delivered?'<span class="tick-green">âœ“</span>':''}${!c.delivered?`<button class='btn btn-primary' onclick='courierConfirm(${i})'>ØªØ§ÛŒÛŒØ¯ ØªØ­ÙˆÛŒÙ„</button>`:''}</div>`;
  });
}

function courierConfirm(i){
  const courier = state.couriers[i];
  state.couriers[i].status='ØªØ­ÙˆÛŒÙ„ Ùˆ Ø§Ù…Ø¶Ø§ Ø´Ø¯Ù‡';
  state.couriers[i].delivered=true;
  renderCourier();
  renderAdminCourierStatus();
  const c = document.getElementById('modalContent');
  c.innerHTML = `
    <h3>âœ… ØªØ­ÙˆÛŒÙ„ ØªØ§ÛŒÛŒØ¯ Ø´Ø¯</h3>
    <p>ØªØ­ÙˆÛŒÙ„ Ú©Ø§Ù„Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª ØªØ§ÛŒÛŒØ¯ Ø´Ø¯.</p>
    <p><strong>Ù…Ø´ØªØ±ÛŒ:</strong> ${courier.customer}</p>
    <p><strong>Ù…Ø­ØµÙˆÙ„:</strong> ${courier.productCode}</p>
    <p>ÙˆØ¶Ø¹ÛŒØª Ø¯Ø± Ø³ÛŒØ³ØªÙ… Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯.</p>
    <button class='btn btn-primary' onclick='closeModal()'>ØªØ§ÛŒÛŒØ¯</button>
  `;
  openModal();
}

function openModal(){document.getElementById('modal').classList.add('show')}
function closeModal(){document.getElementById('modal').classList.remove('show')}
document.getElementById('modal').addEventListener('click',e=>{if(e.target.id==='modal')closeModal()})
</script>
</body>
</html>